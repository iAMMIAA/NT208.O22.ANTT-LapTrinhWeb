
<!doctype html>
<html data-n-head-ssr lang="en" prefix="og: https://ogp.me/ns#" amp data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22prefix%22:%7B%22ssr%22:%22og:%20https://ogp.me/ns#%22%7D,%22amp%22:%7B%22ssr%22:true%7D%7D">
  <head viblo="true" data-n-head="%7B%22viblo%22:%7B%22ssr%22:true%7D%7D">
    <title>Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend - Viblo</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width, initial-scale=1"><meta data-n-head="ssr" http-equiv="X-UA-Compatible" content="IE=edge"><meta data-n-head="ssr" name="application-name" content="Viblo"><meta data-n-head="ssr" property="og:site_name" content="Viblo"><meta data-n-head="ssr" data-hid="fb:app_id" property="fb:app_id" content="982854298857505"><meta data-n-head="ssr" name="google-site-verification" content="RKTOz1S8uxhAZHqaOsf6cSvT_pqnPHEyAnlTnlLiiok"><meta data-n-head="ssr" name="dmca-site-verification" content="U3I1Yy84OGp3ZFprUTZCU1JrbjM4UT090"><meta data-n-head="ssr" name="msapplication-TileColor" content="#FFFFFF"><meta data-n-head="ssr" name="msapplication-TileImage" content="/mstile-144x144.png"><meta data-n-head="ssr" name="msapplication-square70x70logo" content="/mstile-70x70.png"><meta data-n-head="ssr" name="msapplication-square150x150logo" content="/mstile-150x150.png"><meta data-n-head="ssr" name="msapplication-wide310x150logo" content="/mstile-310x150.png"><meta data-n-head="ssr" name="msapplication-square310x310logo" content="/mstile-310x310.png"><meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="Viblo"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#5488c7"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://viblo.asia/p/build-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="Viblo"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend - Viblo"><meta data-n-head="ssr" data-hid="keywords" name="keywords" content="env, frontend, build docker, Docker Compose"><meta data-n-head="ssr" data-hid="article:published_time" name="article:published_time" content="2024-04-28T13:46:09+07:00"><meta data-n-head="ssr" data-hid="article:modified_time" name="article:modified_time" content="2024-04-28T23:17:01+07:00"><meta data-n-head="ssr" data-hid="article:author" name="article:author" content="https://viblo.asia/u/maitrungduc1410"><meta data-n-head="ssr" data-hid="article:tag" name="article:tag" content="env, frontend, build docker, Docker Compose"><meta data-n-head="ssr" data-hid="twitter:title" name="twitter:title" content="Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend - Viblo"><meta data-n-head="ssr" data-hid="twitter:description" name="twitter:description" content="Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©"><meta data-n-head="ssr" data-hid="twitter:card" name="twitter:card" content="summary"><meta data-n-head="ssr" data-hid="robots" name="robots" content="index,follow"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://images.viblo.asia/5d04698e-c698-43fa-98e7-34066161ebdc.jpg"><meta data-n-head="ssr" data-hid="description" name="description" content="Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©"><link data-n-head="ssr" rel="alternate" type="application/rss+xml" name="Viblo RSS Feed" href="/rss"><link data-n-head="ssr" rel="preconnect" href="https://fonts.googleapis.com"><link data-n-head="ssr" rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&amp;family=Roboto:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap"><link data-n-head="ssr" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="57x57" href="/apple-touch-icon-57x57.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="60x60" href="/apple-touch-icon-60x60.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="120x120" href="/apple-touch-icon-120x120.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="76x76" href="/apple-touch-icon-76x76.png"><link data-n-head="ssr" rel="apple-touch-icon-precomposed" sizes="152x152" href="/apple-touch-icon-152x152.png"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-196x196.png" sizes="196x196"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-128.png" sizes="128x128"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/_nuxt/icons/icon_64x64.a0a65a.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/_nuxt/icons/icon_512x512.a0a65a.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.01f43339.json" data-hid="manifest" crossorigin="use-credentials"><link data-n-head="ssr" data-hid="canonical" rel="canonical" href="https://viblo.asia/p/build-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9"><script data-n-head="ssr" type="application/ld+json">{"@context":"https://schema.org","@type":"Article","image":["https://images.viblo.asia/23482c65-917c-4028-8e33-e8e9fc87451f.png","https://images.viblo.asia/23482c65-917c-4028-8e33-e8e9fc87451f.png"],"author":{"@type":"Person","name":"Mai Trung Äá»©c","@id":"https://viblo.asia/u/maitrungduc1410","url":"https://viblo.asia/u/maitrungduc1410"},"keywords":"env, frontend, build docker, Docker Compose","headline":"Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend - Viblo","url":"https://viblo.asia/p/build-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9","mainEntityOfPage":{"@type":"WebPage","@id":"https://viblo.asia/newest"},"publisher":{"@type":"Organization","name":"Viblo","logo":{"@type":"ImageObject","url":"https://viblo.asia/og-facebook-3.png"},"sameAs":["https://www.facebook.com/viblo.asia/"]},"datePublished":"2024-04-28T06:46:09.000Z","dateCreated":"2024-04-27T14:38:39.000Z","dateModified":"2024-04-28T16:17:01.000Z","description":"Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©","articleBody":"Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©"}</script><link rel="preload" href="/_nuxt/runtime.e72c032fa9d23f4a74c0.js" as="script"><link rel="preload" href="/_nuxt/css/settings.3ac40280a3261ffaad58.css" as="style"><link rel="preload" href="/_nuxt/settings.8f4631de8bf4e487b62e.js" as="script"><link rel="preload" href="/_nuxt/css/tag.b5b691e1a83da3b60a81.css" as="style"><link rel="preload" href="/_nuxt/tag.9bbfc73101ad405a3dfb.js" as="script"><link rel="preload" href="/_nuxt/css/app.296bf8751bc3597fb3b2.css" as="style"><link rel="preload" href="/_nuxt/app.c05be69fdb95a03f507b.js" as="script"><link rel="preload" href="/_nuxt/css/support.b91087e2ea514497978d.css" as="style"><link rel="preload" href="/_nuxt/support.f5168b0faa7e6d99e98e.js" as="script"><link rel="preload" href="/_nuxt/vendors/index.18e72cc2ab911620d3b4.js" as="script"><link rel="preload" href="/_nuxt/css/survey.36c1f4e285c55ebb239b.css" as="style"><link rel="preload" href="/_nuxt/survey.2008fbd216275e77de8a.js" as="script"><link rel="preload" href="/_nuxt/css/vendors/survey.a708958c9fe48622d123.css" as="style"><link rel="preload" href="/_nuxt/vendors/survey.0f1f3d34d7da89f1c829.js" as="script"><link rel="preload" href="/_nuxt/css/user.032ce22f714ce22d6824.css" as="style"><link rel="preload" href="/_nuxt/user.28f257953f9381c9467f.js" as="script"><link rel="stylesheet" href="/_nuxt/css/settings.3ac40280a3261ffaad58.css"><link rel="stylesheet" href="/_nuxt/css/tag.b5b691e1a83da3b60a81.css"><link rel="stylesheet" href="/_nuxt/css/app.296bf8751bc3597fb3b2.css"><link rel="stylesheet" href="/_nuxt/css/support.b91087e2ea514497978d.css"><link rel="stylesheet" href="/_nuxt/css/survey.36c1f4e285c55ebb239b.css"><link rel="stylesheet" href="/_nuxt/css/vendors/survey.a708958c9fe48622d123.css"><link rel="stylesheet" href="/_nuxt/css/user.032ce22f714ce22d6824.css">
  </head>
  <body viblo="true" data-n-head="%7B%22viblo%22:%7B%22ssr%22:true%7D%7D">
    <div data-server-rendered="true" id="__nuxt"><div class="progress" style="width:0%;height:2px;background-color:#5488c7;opacity:0;" data-v-4e3e2ebc></div><div id="__layout"><div id="app-container" class="default"><header class="main-navbar main-navbar__group py-1"><div class="main-navbar__container container px-md-0"><div class="d-flex main-navbar__grow"><a href="/newest" class="main-navbar__logo d-block mr-lg-5"><img src="/logo_full.svg" alt="Viblo" width="62" height="21"></a> <ul class="main-menu list-unstyled hidden-md-down"><li class="main-menu__item"><a href="/newest" class="link">
            BÃ i Viáº¿t
        </a></li> <li id="v-step-2" class="main-menu__item"><div><a href="/questions" class="link"><div class="el-badge badge-has-new">
                    Há»i ÄÃ¡p
                <sup class="el-badge__content el-badge__content--undefined is-fixed" style="display:none;"></sup></div></a></div></li> <li class="main-menu__item"><a href="/discussion" class="link">
            Tháº£o Luáº­n
        </a></li></ul></div> <div class="main-navbar__right"><a href="/search" class="link text-muted hidden-md-up mr-1"><i aria-hidden="true" class="fa fa-search"></i></a> <div class="sb hidden-sm-down flex-fill mr-1"><input placeholder="TÃ¬m kiáº¿m trÃªn Viblo" value="" class="sb__input"> <button class="btn btn-primary" style="display:;"><i class="fa fa-search"></i></button> <i aria-hidden="true" class="fa fa-circle-o-notch fa-spin sb-icon" style="display:none;"></i> <i aria-hidden="true" class="fa fa-times sb-icon clr text-muted" style="display:none;"></i> <div class="sb__suggestions" style="display:none;"><div></div></div></div> <div class="main-navbar__group"><span class="flyout announcement-flyout mr-1"><div role="tooltip" id="el-popover-6861" aria-hidden="true" class="el-popover el-popper flyout__popper" style="width:undefinedpx;display:none;"><!----> <div class="flyout__header"><div class="d-flex align-items-center justify-content-between"><span class="text-dark">ThÃ´ng tin</span> <!----></div></div> <div class="flyout__body"><div class="flyout__scroll el-scrollbar"><div class="flyout__scroll-wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><div class="el-scrollbar__view"> <div class="py-05 text-center"><span><i aria-hidden="true" class="fa fa-times"></i> ChÆ°a cÃ³ thÃ´ng tin
        </span></div> </div></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div> <div class="flyout__footer"><div class="text-right"><a href="/announcements" class="announcement-flyout__all">
            Táº¥t cáº£ thÃ´ng tin
        </a></div></div></div><span class="el-popover__reference-wrapper"><div class="el-badge"><button type="button" class="el-button text-muted el-button--text"><!----><i class="fa fa-info"></i><!----></button> <!----> <!----></div></span></span> <!----></div> <div class="main-navbar__group"><div class="mr-05"><!----></div> <div class="main-navbar__group"><div class="sm-response el-dropdown"><span class="el-dropdown-link uppercase switch-language font-bold text-sm"><img slot="prefix" src="/images/vi-flag-32x48.png" width="20" height="20" class="imageLocale"> <span class="leading-none block hiden-sm-screen">vi</span></span> <ul class="el-dropdown-menu el-popper" style="display:none;"><li tabindex="-1" class="el-dropdown-menu__item"><!----><a class="dropdown-item px-4">
                Tiáº¿ng Viá»‡t
            </a></li><li tabindex="-1" class="el-dropdown-menu__item"><!----><a class="dropdown-item px-4">
                English
            </a></li></ul></div></div> <span data-v-0b07c1f5><div role="tooltip" id="el-popover-6470" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----> <ul class="viblo-services-menu" data-v-0b07c1f5><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="/" target="_blank" rel="noopener" class="active" data-v-0b07c1f5><span class="service-icon viblo-icon" style="background:url(/favicon.ico);" data-v-0b07c1f5></span> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://code.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-code.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo Code
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://ctf.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-ctf.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo CTF
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://cv.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-cv.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo CV
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://learn.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-learn.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo Learning
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://partner.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-partner.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo Partner
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://battle.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-battle.png);" data-v-0b07c1f5></span> <!----></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo Battle
                </span></a></li><li class="viblo-services-menu__item" data-v-0b07c1f5><a href="https://interview.viblo.asia/?utm_source=Viblo_Service&amp;utm_medium=Page&amp;utm_campaign=DropdownServices" target="_blank" rel="noopener" class="position-relative" data-v-0b07c1f5><div class="position-relative" data-v-0b07c1f5><span class="service-icon" style="background:url(/images/viblo-interview.ico);" data-v-0b07c1f5></span> <sup class="new-service-icon__item el-badge__content el-badge__content--undefined is-fixed" data-v-0b07c1f5>
                        new
                    </sup></div> <span class="service-name d-block" data-v-0b07c1f5>
                    Viblo Interview
                </span></a></li></ul></div><span class="el-popover__reference-wrapper"><div class="position-relative" data-v-0b07c1f5><i class="viblo-services-toggle fa fa-th" data-v-0b07c1f5></i> <sup class="service-new-icon el-badge__content el-badge__content--undefined is-fixed" data-v-0b07c1f5>new</sup></div></span></span> <button type="button" class="el-button el-button--text"><!----><i class="fa fa-sign-in"></i><span>
    ÄÄƒng nháº­p/ÄÄƒng kÃ½
</span></button> <!----></div> <!----></div></div> <!----></header> <div id="main-content"><div class="default"><div class="v-ctr-section promo__banner"><a href="https://mayfest.viblo.asia/?utm_source=Viblo&amp;utm_medium=banner&amp;utm_campaign=May-Fest-2024" aria-ctr-enable="May Fest 2024" target="_blank" rel="noopener"><div style="background-color:#240553;"><span class="progressive-img_wrapper promo__banner__image"><canvas width="1140" height="168" class="progressive-img_tiny progressive-img_filter-blur" style="background-image:url('https://images.viblo.asia/60/ba0990e8-993a-41cd-96c5-db6b9c9dd7c2.png');background-size:100% 100%;"></canvas><!----></span></div></a></div> <!----> <div class="container py-2"><div class="screen-default"><div class="hidden-md-down post-action"><div class="post-actions d-flex flex-column align-items-center mx-auto"><!----> <div class="votes votes--side post-actions__vote mb-1"><button title="Upvote" class="icon-btn vote"><i aria-hidden="true" class="fa fa-caret-up"></i></button> <div class="points text-muted">
        +3
    </div> <button title="Downvote" class="icon-btn vote"><i aria-hidden="true" class="fa fa-caret-down"></i></button></div> <div class="subscribe mb-2" data-v-45069e34><button type="button" title="Bookmark bÃ i viáº¿t nÃ y" class="el-button post-actions__clip el-button--default" data-v-45069e34><!----><i class="fa fa-bookmark"></i><!----></button></div> <span class="mb-2" data-v-ff3977b0 data-v-5dedd11a><div role="tooltip" id="el-popover-666" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div class="type-control-options" data-v-ff3977b0><div data-v-ff3977b0><i class="fa fa-font control-icon" data-v-ff3977b0></i> <span data-v-ff3977b0>Cá»¡ chá»¯</span></div> <div data-v-ff3977b0><button type="button" class="el-button button-modify el-button--default el-button--mini is-circle" data-v-ff3977b0><!----><!----><span><i class="fa fa-minus" data-v-ff3977b0></i></span></button> <span class="control-info" data-v-ff3977b0>18px</span> <button type="button" class="el-button button-modify el-button--default el-button--mini is-circle" data-v-ff3977b0><!----><!----><span><i class="fa fa-plus" data-v-ff3977b0></i></span></button></div> <div data-v-ff3977b0><i class="fa fa-text-height control-icon" data-v-ff3977b0></i> <span data-v-ff3977b0>Äá»™ cao hÃ ng</span></div> <div data-v-ff3977b0><button type="button" class="el-button button-modify el-button--default el-button--mini is-circle" data-v-ff3977b0><!----><!----><span><i class="fa fa-minus" data-v-ff3977b0></i></span></button> <span class="control-info" data-v-ff3977b0>1.75</span> <button type="button" class="el-button button-modify el-button--default el-button--mini is-circle" data-v-ff3977b0><!----><!----><span><i class="fa fa-plus" data-v-ff3977b0></i></span></button></div></div> <div class="d-flex mode-theme mt-1" data-v-ff3977b0><div role="radiogroup" class="el-radio-group" data-v-ff3977b0><label role="radio" tabindex="-1" class="el-radio-button" data-v-ff3977b0><input type="radio" tabindex="-1" value="false" checked="checked" class="el-radio-button__orig-radio"><span class="el-radio-button__inner">
                Máº·c Ä‘á»‹nh
            <!----></span></label> <label role="radio" tabindex="-1" class="el-radio-button" data-v-ff3977b0><input type="radio" tabindex="-1" value="true" class="el-radio-button__orig-radio"><span class="el-radio-button__inner">
                ToÃ n mÃ n hÃ¬nh
            <!----></span></label></div></div> <div class="d-flex mode-theme mt-1" data-v-ff3977b0><p data-v-ff3977b0>
            MÃ u ná»n
        </p> <p class="color-mode color-white background-button-mode" data-v-ff3977b0></p> <p class="color-mode color-dark" data-v-ff3977b0></p> <p class="color-mode color-sepia" data-v-ff3977b0></p></div> <div class="reset-default mt-1" data-v-ff3977b0><button type="button" class="el-button button-reset el-button--default el-button--mini" data-v-ff3977b0><!----><!----><span>
            Äáº·t láº¡i
        </span></button></div> </div><span class="el-popover__reference-wrapper"><button type="button" class="el-button is-circle type-control el-button--default" data-v-5dedd11a><!----><!----><span><i class="fa fa-font" data-v-5dedd11a></i></span></button></span></span> <div class="social-sharing mb-2 social-sharing--horizontal social-sharing--small" data-v-235dd1c0><a tooltip-placement="right" rel="noopener" title="Chia sáº» liÃªn káº¿t Ä‘áº¿n trang nÃ y trÃªn Facebook" class="link link--muted link--muted" data-v-235dd1c0><i aria-hidden="true" class="fa fa-facebook" data-v-235dd1c0></i></a> <a tooltip-placement="right" rel="noopener" title="Chia sáº» liÃªn káº¿t Ä‘áº¿n trang nÃ y trÃªn Twitter" class="link link--muted link--muted" data-v-235dd1c0><i aria-hidden="true" class="fa fa-twitter" data-v-235dd1c0></i></a></div> <!----> <!----></div> <!----></div> <div class="post-body__main post-content"><article class="post-content"><header class="mb-05"><div class="post-content__author_meta"><div class="post-author mb-2 text-break"><div class="mr-05 d-flex position-relative flex-col justify-content-center align-items-center"><a href="/u/maitrungduc1410" class="position-relative d-flex position-relative flex-col justify-content-center align-items-center"><img src="https://images.viblo.asia/avatar/eaf432c3-3a68-4b4a-a42f-c31b7575fe14.jpg" srcset="https://images.viblo.asia/avatar-retina/eaf432c3-3a68-4b4a-a42f-c31b7575fe14.jpg 2x" alt="Avatar" class="avatar avatar--lg level-default avatar-event flex-center" data-v-f09f4d56> <!----></a></div> <div class="post-author__info mr-1"><div class="d-flex"><div class="flex-fix mr-05"><a href="/u/maitrungduc1410" class="text-bold post-author__name">
                    Mai Trung Äá»©c
                </a> <span class="text-muted">@maitrungduc1410</span></div> <div class="subscribe"><button type="button" class="el-button el-button--mini-mini is-plain"><!----><!----><span>
                    Theo dÃµi
                </span></button></div></div> <div class="stats"><span title="Reputations: 40788" class="stats-item text-muted w-25"><i aria-hidden="true" class="stats-item__icon fa fa-star"></i>
        40.7K
    </span><span title="NgÆ°á»i theo dÃµi: 2260" class="stats-item text-muted w-25"><i aria-hidden="true" class="stats-item__icon fa fa-user-plus"></i>
        2.2K
    </span><span title="BÃ i viáº¿t: 72" class="stats-item text-muted w-25"><i aria-hidden="true" class="stats-item__icon fa fa-pencil"></i>
        72
    </span> </div></div></div> <div class="post-meta d-flex flex-column flex-wrap align-items-sm-end"><div title="thg 4 28, 6:46 SA" class="text-muted">
            ÄÃ£ Ä‘Äƒng vÃ o khoáº£ng 10 giá» trÆ°á»›c
         <!----> <span title="20 phÃºt Ä‘á»c" class="post-reading_time is-divide is-divide--fit text-muted">
    20 phÃºt Ä‘á»c
</span> <!----></div> <div class="d-flex align-items-center"><div title="LÆ°á»£t xem: 27" class="post-meta__item mr-1 text-muted"><i aria-hidden="true" class="el-icon-view post-meta__icon"></i> <span>27</span></div> <div title="Di chuyá»ƒn Ä‘áº¿n bÃ¬nh luáº­n" class="post-meta__item mr-1 text-muted"><button type="button" class="el-button el-button--text"><!----><i class="fa fa-comments-o post-meta__icon"></i><span>
                0
            </span></button></div> <div title="Xem danh sÃ¡ch ngÆ°á»i bookmark" class="post-meta__item text-muted"><button type="button" class="el-button el-button--text"><!----><i class="fa fa-bookmark post-meta__icon"></i><span>
                0
            </span></button></div> <!----></div></div></div> <h1 class="article-content__title">
            Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend
        </h1> <!----></header> <div class="d-md-flex align-items-top justify-content-between"><div class="tags d-flex flex-wrap align-items-center" data-v-4365a2a0>  </div> <div class="post__menu"><div class="el-dropdown"><button type="button" title="Hiá»ƒn thá»‹ cÃ¡c hÃ nh Ä‘á»™ng" class="el-button p-0 el-button--text text-muted"><!----><i class="post__menu__more el-icon-more-outline"></i><!----></button> <ul class="el-dropdown-menu el-popper el-dropdown-menu--medium" style="display:none;"><!----> <li tabindex="-1" class="el-dropdown-menu__item"><!----><i aria-hidden="true" class="fa fa-flag-o pr-0 mr-05"></i>
                BÃ¡o cÃ¡o
            </li> <li tabindex="-1" class="el-dropdown-menu__item"><!----><i aria-hidden="true" class="fa fa-plus-square-o pr-0 mr-05"></i>
                ThÃªm vÃ o series cá»§a tÃ´i
            </li> <!----> <!----> <!----> <!----> <!----> <!----></ul></div> <!----> <!----> <!----> <!----> <!----></div></div> <!----> <!----> <div class="article-content__body my-2 flex-fill"><div class="md-contents" style="font-size:18px;line-height:1.75;"><p>Hello cÃ¡c báº¡n láº¡i lÃ  mÃ¬nh Ä‘Ã¢y ğŸ‘‹ğŸ‘‹</p>
<p>NhÃ¢n má»™t ngÃ y mÃ  nhÃ¬n vÃ o list cÃ¡c bÃ i muá»‘n viáº¿t mÃ  mÃ¬nh Ä‘Ã£ lÃªn Ã½ tÆ°á»Ÿng tá»« lÃ¢u tháº¥y cÃ³ ráº¥t nhiá»u thá»© muá»‘n chia sáº», vÃ  cÅ©ng tranh thá»§ tuáº§n nÃ y ráº£nh váº­y lÃ  láº¡i ngá»©a ngÃ¡y muá»‘n viáº¿t liá»n ğŸ˜</p>
<p>HÃ´m nay chÃºng ta sáº½ cÃ¹ng xem cÃ¡ch Ä‘á»ƒ cÃ³ thá»ƒ cáº¥u hÃ¬nh dynamic env cho app frontend vá»›i Docker vÃ  bÃ i toÃ¡n thá»±c táº¿ nhÃ© <img class="emoji" draggable="false" alt="ğŸ˜‰" src="https://twemoji.maxcdn.com/v/14.0.2/72x72/1f609.png" ></p>
<p>LÃªn thuyá»n thÃ´i nhá»¯ng ngÆ°á»i anh em thiá»‡n lÃ nh Æ¡i ğŸš€ğŸš€</p>
<h1>VÃ i dÃ²ng vá» Frontend</h1>
<h2>Tá»•ng quan</h2>
<p>CÃ³ thá»ƒ cÃ¡c báº¡n Ä‘Ã£ biáº¿t (hoáº·c chÆ°a biáº¿t ğŸ˜‚) thÃ¬ háº§u háº¿t cÃ¡c app frontend (FE) hiá»‡n táº¡i (2024) Ä‘á»u dÃ¹ng nhá»¯ng library/framework nhÆ° Vue/React/Angular,... bá»Ÿi vÃ¬ chÃºng giÃºp viá»‡c build frontend ráº¥t nhanh, UX tá»‘t, khÃ´ng pháº£i load láº¡i trang, logics JS Ä‘Æ°á»£c bind trá»±c tiáº¿p lÃªn UI, logics thay Ä‘á»•i UI tá»± update,...</p>
<p>VÃ  cÃ²n vÃ´ vÃ n nhá»¯ng thá»© khÃ¡c ná»¯a, nÃ³i chung mÃ¬nh tháº¥y tech phÃ­a FE phÃ¡t triá»ƒn vá»›i tá»‘c Ä‘á»™ khÃ¡ khá»§ng khiáº¿p vÃ  nÃ³ cÃ³ máº·t á»Ÿ má»i nÆ¡i, tá»« web Ä‘áº¿n native (mobile), desktop.</p>
<p>VÃ  gÃ³p pháº§n vÃ o sá»± phÃ¡t triá»ƒn Ä‘Ã³ thÃ¬ khÃ´ng thá»ƒ thiáº¿u Ä‘Æ°á»£c má»™t pháº§n ráº¥t quan trá»ng vÃ o sá»± phÃ¡t triá»ƒn cá»§a FE Ä‘Ã³ lÃ  sá»± ra Ä‘á»i cá»§a vÃ´ vÃ n bundler (Webpack, Parcel, Vite, Rollup, Rolldown,...) cÃ¡i sau ra tá»‘c Ä‘á»™ láº¡i bÃ n thá» hÆ¡n cáº£ cÃ¡i trÆ°á»›c ğŸ˜ğŸ˜</p>
<p>KhÃ´ng nhÆ° backend, FE (modern FE) háº§u háº¿t cáº§n pháº£i Ä‘Æ°á»£c bundle thÃ¬ má»›i cháº¡y production Ä‘Æ°á»£c, quÃ¡ trÃ¬nh nÃ y vá» cÆ¡ báº£n lÃ  bundler sáº½ láº¥y táº¥t cáº£ source code, assets (image, css, html,...) vÃ  táº¡o ra cÃ¡c file bundle tá»‘i Æ°u (HTML, CSS, JS). QuÃ¡ trÃ¬nh thÃ¬ mÃ´ táº£ cÆ¡ báº£n nhÆ° sau (mÃ¬nh láº¥y trÃªn trang chá»§ webpack):</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="2198" height="1102" style="background: url('https://images.viblo.asia/60/23482c65-917c-4028-8e33-e8e9fc87451f.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="2198" height="1102" data-full-src="https://images.viblo.asia/23482c65-917c-4028-8e33-e8e9fc87451f.png" alt="Screenshot 2024-04-27 at 11.29.58â€¯PM.png" data-tiny-src="https://images.viblo.asia/60/23482c65-917c-4028-8e33-e8e9fc87451f.png" data-zoom-src="https://images.viblo.asia/full/23482c65-917c-4028-8e33-e8e9fc87451f.png" data-srcset="https://images.viblo.asia/retina/23482c65-917c-4028-8e33-e8e9fc87451f.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>VÃ  cÃ³ má»™t Ä‘iá»u ráº¥t quan trá»ng ta cáº§n chÃº Ã½ Ä‘Ã³ lÃ , sau khi bundle thÃ¬ ta nháº­n Ä‘Æ°á»£c cÃ¡c file lÃ  static, tá»©c lÃ  ná»™i dung khÃ´ng (nÃªn) Ä‘Æ°á»£c thay Ä‘á»•i ná»¯a.</p>
<p>VÃ  1 thá»© Ä‘Ã³ lÃ  biáº¿n mÃ´i trÆ°á»ng (ENV) thÃ¬ sáº½ Ä‘Æ°á»£c bundler thay tháº¿ ngay táº¡i thá»i Ä‘iá»ƒm build báº±ng giÃ¡ trá»‹ thá»±c trÆ°á»›c khi sinh ra cÃ¡c file static.</p>
<h2>Váº¥n Ä‘á» cá»§a FE</h2>
<p>Bá»Ÿi vÃ¬ nhÆ° váº­y nÃªn khÃ´ng nhÆ° backend, á»Ÿ cÃ¡c mÃ´i trÆ°á»ng khÃ¡c nhau (dev, staging, production...) ta chá»‰ cáº§n cÃ³ file <code>.env</code> vÃ  Ä‘á»ƒ háº¿t cÃ¡c biáº¿n thay Ä‘á»•i theo mÃ´it rÆ°á»ng á»Ÿ Ä‘Ã³. ThÃ¬ vá»›i frontend sau khi build lÃ  má»i thá»© Ä‘Ã£ Ä‘Æ°á»£c "hardcode" static á»Ÿ Ä‘Ã³ rá»“i.</p>
<p>Váº­y nhÆ°ng hiá»‡n nay á»Ÿ ráº¥t nhiá»u cÃ´ng ty, vÃ  cáº£ cÃ´ng ty cÅ© cá»§a mÃ¬nh thÃ¬ trong deployment workflow cá»§a há» follow theo style <code>Build once, run everywhere</code>: tá»©c lÃ  ta chá»‰ Ä‘Æ°á»£c build app 1 láº§n vÃ  deploy ra cÃ¡c mÃ´i trÆ°á»ng khÃ¡c nhau. Äiá»u nÃ y cÃ³ nhá»¯ng máº·t tá»‘t nhÆ° sau:</p>
<ul>
<li>Äáº£m báº£o cháº¯c cháº¯n ráº±ng táº¡i má»i mÃ´i trÆ°á»ng ta cÃ¹ng cÃ³ 1 báº£n build y há»‡t nhÆ° nhau</li>
<li>VÃ¬ code FE (Ä‘Ã´i khi) cÃ³ thá»ƒ bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi mÃ´i trÆ°á»ng, build cho dev ok xong build staging thÃ¬ lá»—i,...</li>
<li>KhÃ´ng rebuild khi ra mÃ´i trÆ°á»ng khÃ¡c, vÃ¬ vÃ­ dá»¥ build cho staging xong gá»i QA vÃ o test ok, xong ra production build láº¡i dÃ¹ng command khÃ¡c láº¡i build vá»›i 1 source code khÃ¡c ğŸ˜‚ğŸ˜‚</li>
<li>...</li>
</ul>
<p>CÃ¡i <code>Build once, run everywhere</code> kia vá»›i backend thÃ¬ ráº¥t dá»…, vÃ¬ xÆ°a nay nÃ³ váº«n dá»… nhÆ° váº­y rá»“i ğŸ˜, thay biáº¿n mÃ´i trÆ°á»ng Ä‘i lÃ  xong. NhÆ°ng vá»›i frontend thÃ¬ láº¡i khÃ´ng há» dá»… nhÆ° váº­y. Bá»Ÿi vÃ¬ frontend nÃ³ cáº§n pháº£i build, vÃ  nÃ³ sáº½ Ä‘Æ°á»£c build ra cÃ¡c file static, vÃ  code static Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»­i tá»›i user khi client truy cáº­p trang web, váº­y nÃªn vá» máº·t kÄ© thuáº­t <strong>vá»›i mÃ¬nh</strong> thÃ¬ vá»›i frontend khÃ´ng cÃ³ khÃ¡i niá»‡m "biáº¿n mÃ´i trÆ°á»ng"</p>
<blockquote>
<p>vÃ¬ má»—i láº§n code frontend cháº¡y trÃªn trÃ¬nh duyá»‡t cá»§a 1 user mÃ , váº­y thÃ¬ "mÃ´i trÆ°á»ng" á»Ÿ Ä‘Ã¢y lÃ  mÃ´i trÆ°á»ng nÃ o ğŸ˜…</p>
</blockquote>
<blockquote>
<p>Cáº§n chÃº Ã½ tháº­t kÄ©, khi dev á»Ÿ local thÃ¬ cháº¡y trÃªn mÃ¡y cá»§a báº¡n nÃªn báº¡n sá»­a ENV sáº½ tháº¥y nÃ³ Äƒn ngay nhÆ°ng khi deploy production thÃ¬ khÃ´ng váº­y Ä‘Ã¢u nhÃ© ğŸ˜‚</p>
</blockquote>
<p>Do váº­y vá»›i frontend thÆ°á»ng khi cáº§n dÃ¹ng tá»›i biáº¿n mÃ´i trÆ°á»ng ta sáº½ cáº§n táº¡o nhiá»u file env nhÆ° sau:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="694" height="576" style="background: url('https://images.viblo.asia/60/bf123db7-e58b-408b-b8bd-e44a37133469.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="694" height="576" data-full-src="https://images.viblo.asia/bf123db7-e58b-408b-b8bd-e44a37133469.png" alt="Screenshot 2024-04-27 at 11.50.58â€¯PM.png" data-tiny-src="https://images.viblo.asia/60/bf123db7-e58b-408b-b8bd-e44a37133469.png" data-zoom-src="https://images.viblo.asia/full/bf123db7-e58b-408b-b8bd-e44a37133469.png" data-srcset="https://images.viblo.asia/retina/bf123db7-e58b-408b-b8bd-e44a37133469.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>VÃ  cÃ³ má»™t Ä‘iá»u lÆ°u Ã½ lÃ  cÃ¡c file .env kia Ä‘Æ°á»£c hardcode tháº³ng vÃ o project vÃ  commit lÃªn git (trá»« <code>.env.local</code>). Náº¿u khÃ´ng thÃ¬ cÅ©ng pháº£i hardcode vÃ o CICD pipeline Ä‘á»ƒ "inject" vÃ o quÃ¡ trÃ¬nh build. Má»™t láº§n ná»¯a mÃ¬nh pháº£i note láº¡i: Ä‘Ã³ lÃ  biáº¿n mÃ´i trÆ°á»ng vá»›i FE nÃ³ chá»‰ cÃ³ tÃ¡c dá»¥ng táº¡i thá»i Ä‘iá»ƒm build</p>
<p>Váº­y cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ ta cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u tÆ°Æ¡ng tá»± nhÆ° backend hay khÃ´ng? Tá»©c lÃ  build 1 láº§n vÃ  tá»›i mÃ´i trÆ°á»ng nÃ o thÃ¬ ta dÃ¹ng 1 file <code>.env</code> thÃ´i lÃ  Ä‘Æ°á»£c khÃ´ng? ğŸ§ğŸ§</p>
<h2>Giáº£i phÃ¡p hiá»‡n táº¡i</h2>
<p>Ta cÃ¹ng Ä‘iá»ƒm qua má»™t sá»‘ giáº£i phÃ¡p phá»• biáº¿n hiá»‡n táº¡i nhÃ©:</p>
<p><em>CÃ¡ch 1</em>: CÃ¡ch phá»• biáº¿n nháº¥t cháº¯c váº¥n lÃ  Ä‘áº·t cÃ¡c cÃ¡c file <code>.env</code> (<code>.env.production, .env.development</code>) nhÆ° mÃ¬nh nÃ³i bÃªn trÃªn trá»±c tiáº¿p vÃ o source code vÃ  á»Ÿ file <code>package.json</code> khi cáº§n build cho mÃ´i trÆ°á»ng nÃ o thÃ¬ ta dÃ¹ng command dÃ nh cho mÃ´i trÆ°á»ng Ä‘Ã³, nÃ³ sáº½ select file <code>.env</code> tÆ°Æ¡ng á»©ng, vÃ­ dá»¥:</p>
<pre class="language-json" data-filename><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"yarn build"</span><span class="token punctuation">,</span>
    <span class="token property">"build:staging"</span><span class="token operator">:</span> <span class="token string">"env-cmd -f .env.staging yarn build"</span><span class="token punctuation">,</span>
    <span class="token property">"build:production"</span><span class="token operator">:</span> <span class="token string">"env-cmd -f .env.production yarn build"</span>
<span class="token punctuation">}</span>
</code></pre>
<p>NhÆ°á»£c Ä‘iá»ƒm cá»§a cÃ¡ch nÃ y thÃ¬ ta tháº¥y rÃµ lÃ  cáº§n pháº£i rebuild cho tá»«ng mÃ´i trÆ°á»ng.</p>
<p>HÆ¡n ná»¯a cÃ¡ch nÃ y ta pháº£i Ä‘á»ƒ cÃ¡c file env trá»±c tiáº¿p vÃ o Git, hoáº·c khÃ´ng thÃ¬ cÅ©ng pháº£i lÆ°u trÃªn CICD Ä‘á»ƒ láº¥y ra lÃºc build.</p>
<p>VÃ  1 cÃ¡i ná»¯a nhÆ° mÃ¬nh Ä‘Ã£ nÃ³i á»Ÿ trÆ°á»›c, staging QA test oke rá»“i, nhÆ°ng khi ra production pháº£i build láº¡i vá»›i command khÃ¡c, tháº¿ nhá»¡ command Ä‘Ã³ láº¡i build vá»›i source code khÃ¡c thÃ¬ sao? ğŸ˜…</p>
<p><em>CÃ¡ch 2</em>: Gá»i API khi app vá»«a load lÃªn Ä‘á»ƒ láº¥y cÃ¡c config cáº§n thiáº¿t</p>
<p>Vá»›i cÃ¡ch nÃ y thÃ¬ Ä‘Ãºng lÃ  ta cÃ³ thá»ƒ lÃ m dynamic env, vÃ¬ env giá» Ä‘áº©y qua cho backend rá»“i cÃ²n Ä‘Ã¢u ğŸ˜‚. VÃ  vá»›i cÃ¡ch nÃ y thÃ¬ ta sáº½ cáº§n 1 network call, náº¿u network cháº­m thÃ¬ áº£nh hÆ°á»Ÿng tá»›i toÃ n bá»™ app cá»§a chÃºng ta, user lÃ  ngÆ°á»i trá»±c tiáº¿p chá»‹u áº£nh hÆ°á»Ÿng ğŸ˜œ</p>
<blockquote>
<p>VÃ  Ä‘Æ°Æ¡ng nhiÃªn vá»›i cÃ¡ch nÃ y ta cáº§n phá»¥ thuá»™c vÃ o backend</p>
</blockquote>
<blockquote>
<p>CÃ¡ch nÃ y nÃ³ cÅ©ng gá»i lÃ  "Remote Config" nhÆ° má»i ngÆ°á»i váº«n gá»i (vÃ­ dá»¥ Firebase Remote Config)</p>
</blockquote>
<p><em>CÃ¡ch 3</em>: khÃ´ng dÃ¹ng env, Ä‘áº·t tháº³ng vÃ o code</p>
<pre class="language-js" data-filename><code class="language-js"><span class="token keyword">let</span> backendURL <span class="token operator">=</span> <span class="token string">''</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'production.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  backendURL <span class="token operator">=</span> <span class="token string">'api-prod.com'</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>location<span class="token punctuation">.</span>hostname<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'staging.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  backendURL <span class="token operator">=</span> <span class="token string">'api-staging.com'</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  backendURL <span class="token operator">=</span> <span class="token string">'api-dev.com'</span>
<span class="token punctuation">}</span>
</code></pre>
<p>á» trÃªn ta dá»±a vÃ o domain hiá»‡n táº¡i mÃ  frontend cháº¡y lÃ  gÃ¬ vÃ  tá»« Ä‘Ã³ chá»n ra backend tÆ°Æ¡ng á»©ng. Vá»›i cÃ¡ch nÃ y thÃ¬ Æ°u Ä‘iá»ƒm lÃ  khÃ´ng cáº§n ENV gÃ¬ ná»¯a.</p>
<p>NhÆ°ng nhÆ°á»£c Ä‘iá»ƒm cá»±c lá»›n Ä‘Ã³ lÃ  nÃ³ lÃ m frontend phá»¥ thuá»™c hoÃ n toÃ n vÃ o domain, mÃ  Ä‘Ã¡ng ra, FE "tá»‘t" thÃ¬ khÃ´ng quan trá»ng nÃ³ Ä‘Æ°á»£c deploy á»Ÿ domain nÃ o, má»i API call Ä‘á»u chá»‰ dÃ¹ng Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i thÃ´i, vÃ­ dá»¥ <code>/api/orders</code>, pháº§n domain sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng tÃ­nh toÃ¡n dá»±a vÃ o domain hiá»‡n táº¡i mÃ  FE Ä‘Æ°á»£c deploy</p>
<p>Bá»Ÿi vÃ¬ vá»›i Ä‘oáº¡n code bÃªn trÃªn, giáº£ sá»­ ta Ä‘á»•i domain cá»§a FE Ä‘i thÃ nh <code>example.com</code>, giá» cháº£ cÃ³ <code>dev, staging hay production</code> gÃ¬ Ä‘á»ƒ mÃ  <code>if/else</code> ná»¯a cáº£ ğŸ˜‚</p>
<p>Hmmmm, váº­y giá» cÃ³ cÃ¡ch nÃ o lÃ m Ä‘Æ°á»£c nhÆ° backend khÃ´ng ta....ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”</p>
<p>Ã‚u cÃ¢y ta cÃ¹ng xem nhÃ© ğŸ˜‰</p>
<h1>Dynamic ENV</h1>
<h2>Ã tÆ°á»Ÿng</h2>
<p>Náº¿u cÃ¡c báº¡n Ä‘á»ƒ Ã½ thÃ¬ vá»›i frontend pháº§n code bundle sáº½ hoÃ n toÃ n do bundler chá»‹u trÃ¡ch nhiá»‡m vÃ  ráº¥t khÃ³ Ä‘á»ƒ ta cÃ³ thá»ƒ thá»c vÃ o pháº§n code Ä‘Ã³ vÃ  thÃªm logics gÃ¬ Ä‘Ã³ sau khi code Ä‘Ã£ Ä‘Æ°á»£c build thÃ nh static files</p>
<p>NhÆ°ng má»—i FE project sáº½ luÃ´n cÃ³ 1 pháº§n Ä‘Ã³ lÃ  cÃ¡c files asset public thÃ¬ sáº½ khÃ´ng Ä‘Æ°á»£c bundle, vÃ  ta sáº½ lÆ°u thÃ´ng tin vá» ENV á»Ÿ nhá»¯ng files nhÆ° váº­y, cÃ³ 2 files ta cÃ³ thá»ƒ dÃ¹ng:</p>
<ul>
<li>táº¡o 1 file JS lÆ°u ENV vÃ o <code>window</code> vÃ  import nÃ³ vÃ o file entry <code>index.html</code></li>
<li>Ä‘áº·t tháº³ng ENV vÃ o file <code>index.html</code></li>
</ul>
<p>2 cÃ¡ch nÃ y cÅ©ng xÃªm xÃªm nhau ta cÃ¹ng xem nhÃ©</p>
<h2>Clone code</h2>
<p>NhÆ° thÆ°á»ng lá»‡ Ä‘áº§u tiÃªn ta clone source code cho bÃ i nÃ y <a href="https://gitlab.com/maitrungduc1410/learning-docker" target="_blank">á»Ÿ Ä‘Ã¢y</a>, nhÃ¡nh <strong>master</strong> vÃ  folder lÃ  <code>fe-dynamic-env</code> nhÃ© cÃ¡c báº¡n</p>
<p>Sau khi clone vá» thÃ¬ ta cháº¡y thá»­ lÃªn coi sao nha, ta cháº¡y vá»›i docker luÃ´n Ä‘á»ƒ báº¡n nÃ o khÃ´ng cÃ³ NodeJS (npm) cÅ©ng xem Ä‘Æ°á»£c luÃ´n:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose up -d --build
</code></pre>
<p>Sau Ä‘Ã³ ta má»Ÿ trÃ¬nh duyá»‡t á»Ÿ Ä‘á»‹a chá»‰ <code>http://localhost:8080</code> sáº½ tháº¥y nhÆ° sau nhÃ©:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="1538" height="1772" style="background: url('https://images.viblo.asia/60/e40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="1538" height="1772" data-full-src="https://images.viblo.asia/e40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png" alt="Screenshot 2024-04-28 at 10.39.26â€¯AM.png" data-tiny-src="https://images.viblo.asia/60/e40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png" data-zoom-src="https://images.viblo.asia/full/e40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png" data-srcset="https://images.viblo.asia/retina/e40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>á» Ä‘Ã¢y mÃ¬nh Ä‘Ã£ setup cho cÃ¡c báº¡n 1 project React + Vite, build cho production báº±ng Docker vÃ  cháº¡y vá»›i nginx</p>
<h2>MÃ³n chÃ­nh</h2>
<p>Giá» ta vÃ´ mÃ³n chÃ­nh cá»§a ngÃ y hÃ´m nay nha ğŸ˜‹ğŸ˜‹</p>
<p>CÃ¡c báº¡n Ä‘á»ƒ Ã½ ta cÃ³ dÃ²ng text "Vite + React". Má»—i khi ta muá»‘n thay Ä‘á»•i nÃ³ thÃ¬ ta sáº½ pháº£i sá»­a code <code>src/App.tsx</code> sau Ä‘Ã³ build láº¡i <code>docker compose up -d --build</code></p>
<p>Giá» ta sáº½ cÃ¹ng nhau Ä‘Æ°a dÃ²ng text Ä‘Ã³ vÃ o ENV vÃ  lÃ m nÃ³ dynamic, má»—i khi sá»­a chá»‰ cáº§n restart thay vÃ¬ build lÃ  cÃ³ thá»ƒ tháº¥y update ngay nhÃ© ğŸ˜™ğŸ˜™</p>
<blockquote>
<p>NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn ta sáº½ Ä‘áº·t env á»Ÿ public assets, á»Ÿ bÃ i nÃ y nÃ³ sáº½ lÃ  nhá»¯ng files á»Ÿ trong folder <code>public</code> hoáº·c file <code>index.html</code> (á»Ÿ root folder project)</p>
</blockquote>
<p>TrÆ°á»›c háº¿t ta <code>down</code> app Ä‘i Ä‘Ã£ nhÃ©:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose down
</code></pre>
<p>Äáº§u tiÃªn trong folder <code>public</code> cÃ¡c báº¡n táº¡o cho mÃ¬nh file <code>env.template.js</code> vá»›i ná»™i dung nhÆ° sau:</p>
<pre class="language-js" data-filename><code class="language-js">window<span class="token punctuation">.</span>__HELLO_MESSAGE__ <span class="token operator">=</span> <span class="token string">"${HELLO_MESSAGE}"</span>
</code></pre>
<p>á» trÃªn ta sáº½ táº¡o thÃªm thuá»™c tÃ­nh global <code>__HELLO_MESSAGE__</code> trong <code>window</code>, giÃ¡ trá»‹ thÃ¬ báº±ng 1 cÃ¡i string vá»›i placeholder lÃ  biáº¿n mÃ´i trÆ°á»ng mÃ  tÃ­ ná»¯a ta sáº½ truyá»n vÃ o <code>${HELLO_MESSAGE}</code></p>
<blockquote>
<p>biáº¿n global thÃ¬ kiá»ƒu convention lÃ  thÆ°á»ng ta trÃ¡nh viá»‡c trÃ¹ng láº·p nÃªn ngÆ°á»i ta hay thÃªm nhá»¯ng dáº¡ng tiá»n/háº­u tá»‘ nhÆ° <code>__</code> ğŸ˜‰</p>
</blockquote>
<p>Sau Ä‘Ã³ ta táº¡o file <code>env.js</code>vá»›i ná»™i dung nhÆ° sau:</p>
<pre class="language-js" data-filename><code class="language-js">window<span class="token punctuation">.</span>__HELLO_MESSAGE__ <span class="token operator">=</span> <span class="token string">"Default text"</span>
</code></pre>
<p>LÃ­ do lÃ  tÃ­ ná»¯a ta sáº½ inject ENV vÃ o file <code>env.template.js</code>, sau Ä‘Ã³ xuáº¥t content ra file <code>env.js</code>. Trong trÆ°á»ng há»£p ta khÃ´ng inject Ä‘Æ°á»£c env vÃ o <code>env.template.js</code> thÃ¬ á»Ÿ <code>env.js</code> ta cÃ³ sáºµn fallback message Ä‘á»ƒ váº«n cÃ³ thá»ƒ hiá»ƒn thá»‹ ra cho user</p>
<p>Tiáº¿p theo ta má»Ÿ <code>index.html</code> vÃ  import file <code>env.js</code> kia vÃ o:</p>
<pre class="language-html" data-filename><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vite.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite + React + TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- =====á» ÄÃ¢y===== --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/env.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/main.tsx<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>Tiáº¿p theo lÃ  á»Ÿ trong code ta sáº½ truy cáº­p tá»›i biáº¿n global kia nhÆ° sau:</p>
<pre class="language-tsx" data-filename><code class="language-tsx">import { useState } from 'react'
import reactLogo from './assets/react.svg'
import viteLogo from '/vite.svg'
import './App.css'

declare global {
  interface Window { __HELLO_MESSAGE__: string; }
}

function App() {
  const [count, setCount] = useState(0)

  return (
    &lt;&gt;
      &lt;div&gt;
        &lt;a href="https://vitejs.dev" target="_blank"&gt;
          &lt;img src={viteLogo} className="logo" alt="Vite logo" /&gt;
        &lt;/a&gt;
        &lt;a href="https://react.dev" target="_blank"&gt;
          &lt;img src={reactLogo} className="logo react" alt="React logo" /&gt;
        &lt;/a&gt;
      &lt;/div&gt;
      &lt;h1&gt;{window.__HELLO_MESSAGE__}&lt;/h1&gt;
      &lt;div className="card"&gt;
        &lt;button onClick={() =&gt; setCount((count) =&gt; count + 1)}&gt;
          count is {count}
        &lt;/button&gt;
        &lt;p&gt;
          Edit &lt;code&gt;src/App.tsx&lt;/code&gt; and save to test HMR
        &lt;/p&gt;
      &lt;/div&gt;
      &lt;p className="read-the-docs"&gt;
        Click on the Vite and React logos to learn more
      &lt;/p&gt;
    &lt;/&gt;
  )
}

export default App
</code></pre>
<p>á» trÃªn ta cÃ³ 2 thay Ä‘á»•i:</p>
<ol>
<li>á»Ÿ Ä‘oáº¡n tháº» <code>&lt;h1&gt;</code> ta Ä‘Ã£ thay Ä‘oáº¡n text cÅ© báº±ng code láº¥y message tá»« <code>window</code></li>
<li>á» Ä‘áº§u file ta cÃ³ thÃªm 1 Ä‘oáº¡n code Typescript nhá» Ä‘á»ƒ khai bÃ¡o thÃªm 1 thuá»™c tÃ­nh vÃ o global window (cÃ¡i nÃ y báº¡n nÃ o dÃ¹ng Javascript thÃ¬ khÃ´ng cáº§n)</li>
</ol>
<p>Tiáº¿p lÃ  bÆ°á»›c quan trá»ng nháº¥t Ä‘Ã³ lÃ  inject env tá»« Dockfile:</p>
<pre class="language-Dockerfile" data-filename><code class="language-Dockerfile"><span class="token instruction"><span class="token keyword">FROM</span> node:20-alpine <span class="token keyword">as</span> build-stage</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> package.json yarn.lock* ./</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn --frozen-lockfile</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn build</span>

<span class="token instruction"><span class="token keyword">FROM</span> nginx:1.25-alpine</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/share/nginx/html</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-stage</span></span> /app/dist .</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
<span class="token comment"># CMD ["nginx", "-g", "daemon off;"]</span>

<span class="token instruction"><span class="token keyword">CMD</span> /bin/sh -c <span class="token string">"envsubst &lt; env.template.js &gt; env.js &amp;&amp; nginx -g 'daemon off;'"</span></span>
</code></pre>
<p>á» trÃªn ta sá»­a duy nháº¥t dÃ²ng <code>CMD</code> cuá»‘i cÃ¹ng, ta sáº½ dÃ¹ng <code>envsubst</code>, Ä‘Ã¢y lÃ  1 CLI tool Ä‘á»c env tá»« mÃ´i trÆ°á»ng vÃ  thá»±c hiá»‡n thay tháº¿ env vÃ o file text. Sau khi inject Ä‘Æ°á»£c env thÃ¬ ta start nginx nhÆ° thÆ°á»ng.</p>
<p>CÃ³ thá»ƒ cÃ¡c báº¡n tháº¯c máº¯c, lÃºc táº¡o file env thÃ¬ nÃ³ náº±m trong folder <code>public</code> mÃ  sao á»Ÿ <code>CMD</code> thÃ¬ láº¡i lÃ m ngay á»Ÿ root, thÃ¬ Ä‘Ã³ lÃ  do output cá»§a bundler, sau khi build thÃ¬ má»i files public nÃ³ Ä‘Æ°a háº¿t lÃªn cÃ¹ng 1 level:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="2042" height="546" style="background: url('https://images.viblo.asia/60/4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="2042" height="546" data-full-src="https://images.viblo.asia/4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png" alt="Screenshot 2024-04-28 at 11.02.20â€¯AM.png" data-tiny-src="https://images.viblo.asia/60/4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png" data-zoom-src="https://images.viblo.asia/full/4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png" data-srcset="https://images.viblo.asia/retina/4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>VÃ  giá», trÆ°á»›c khi <code>up</code> thÃ¬ ta truyá»n biáº¿n mÃ´i trÆ°á»ng tá»« <code>docker-compose.yml</code> nhÆ° ta váº«n lÃ m vá»›i backend nha ğŸ˜‰:</p>
<pre class="language-yml" data-filename><code class="language-yml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> .
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> HELLO_MESSAGE=Hello World
</code></pre>
<p>Cuá»‘i cÃ¹ng lÃ  ta start thÃ´iiiiiiiii ğŸš€ğŸš€ğŸš€:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose up -d --build
</code></pre>
<p>Sau Ä‘Ã³ ta má»Ÿ trÃ¬nh duyá»‡t á»Ÿ <code>http://localhost:8080</code> vÃ aaaaaaa pÃ²m pÃ²m chÃ­u chÃ­u ğŸ†ğŸ†:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="1516" height="1738" style="background: url('https://images.viblo.asia/60/d2f164ce-0cab-49ec-9cff-9299b24ab77c.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="1516" height="1738" data-full-src="https://images.viblo.asia/d2f164ce-0cab-49ec-9cff-9299b24ab77c.png" alt="Screenshot 2024-04-28 at 11.15.59â€¯AM.png" data-tiny-src="https://images.viblo.asia/60/d2f164ce-0cab-49ec-9cff-9299b24ab77c.png" data-zoom-src="https://images.viblo.asia/full/d2f164ce-0cab-49ec-9cff-9299b24ab77c.png" data-srcset="https://images.viblo.asia/retina/d2f164ce-0cab-49ec-9cff-9299b24ab77c.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>Message cá»§a ta Ä‘Ã£ hiá»‡n ra á»Ÿ Ä‘Ã³. Giá» má»—i khi muá»‘n thay Ä‘á»•i ta chá»‰ cáº§n sá»­a trá»±c tiáº¿p á»Ÿ <code>docker-compose.yml</code> vÃ  khÃ´ng cáº§n build láº¡i ná»¯a. Y há»‡t nhÆ° backend váº­y ğŸ˜ğŸ˜ğŸ˜</p>
<h1>Vá»c váº¡ch</h1>
<h2>File env.template.js</h2>
<p>Ta thá»­ truy cáº­p <code>http://localhost:8080/env.js</code> xem cÃ³ gÃ¬ nha:</p>
<pre class="language-js" data-filename><code class="language-js">window<span class="token punctuation">.</span>__HELLO_MESSAGE__ <span class="token operator">=</span> <span class="token string">"Hello World"</span>
</code></pre>
<p>á» trÃªn ta tháº¥y tá»« file template nÃ³ Ä‘Ã£ inject Ä‘Æ°á»£c ENV vÃ o vÃ  export ra file <code>env.js</code> nÃ y</p>
<p>Tiáº¿p theo ta truy cáº­p <code>http://localhost:8080/env.template.js</code> sáº½ tháº¥y:</p>
<pre class="language-js" data-filename><code class="language-js">window<span class="token punctuation">.</span>__HELLO_MESSAGE__ <span class="token operator">=</span> <span class="token string">"${HELLO_MESSAGE}"</span>
</code></pre>
<p>á» Ä‘Ã¢y ta tháº¥y ráº±ng file template nÃ y váº«n Ä‘Æ°á»£c truy cáº­p public trong khi nÃ³ khÃ´ng cÃ³ tÃ¡c dá»¥ng gÃ¬ khi cháº¡y ná»¯a (runtime), do váº­y ta cÃ³ thá»ƒ xoÃ¡ nÃ³ Ä‘i sau khi file <code>env.js</code> Ä‘Æ°á»£c export thÃ nh cÃ´ng.</p>
<p>Ta sá»­a láº¡i <code>Dockerfile</code> nhÆ° sau nhÃ©:</p>
<pre class="language-dockerfile" data-filename><code class="language-dockerfile"><span class="token instruction"><span class="token keyword">FROM</span> node:20-alpine <span class="token keyword">as</span> build-stage</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> package.json yarn.lock* ./</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn --frozen-lockfile</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn build</span>

<span class="token instruction"><span class="token keyword">FROM</span> nginx:1.25-alpine</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/share/nginx/html</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-stage</span></span> /app/dist .</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
<span class="token comment"># CMD ["nginx", "-g", "daemon off;"]</span>

<span class="token instruction"><span class="token keyword">CMD</span> /bin/sh -c <span class="token string">"envsubst &lt; env.template.js &gt; env.js &amp;&amp; rm env.template.js &amp;&amp; nginx -g 'daemon off;'"</span></span>
</code></pre>
<p>á» trÃªn mÃ¬nh Ä‘Ã£ thÃªm Ä‘oáº¡n <code>rm env.template.js</code> Ä‘á»ƒ xoÃ¡ file template Ä‘i rá»“i. Ta build vÃ  restart láº¡i app nha:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose down
docker compose up -d --build
</code></pre>
<p>Sau Ä‘Ã³ láº¡i truy cáº­p <code>http://localhost:8080/env.template.js</code> vÃ  ta sáº½ tháº¥y:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="974" height="378" style="background: url('https://images.viblo.asia/60/c103aca1-29ac-46fb-9081-b8bd780dfb7c.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="974" height="378" data-full-src="https://images.viblo.asia/c103aca1-29ac-46fb-9081-b8bd780dfb7c.png" alt="Screenshot 2024-04-28 at 11.22.14â€¯AM.png" data-tiny-src="https://images.viblo.asia/60/c103aca1-29ac-46fb-9081-b8bd780dfb7c.png" data-zoom-src="https://images.viblo.asia/full/c103aca1-29ac-46fb-9081-b8bd780dfb7c.png" data-srcset="https://images.viblo.asia/retina/c103aca1-29ac-46fb-9081-b8bd780dfb7c.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>VÃ  user sáº½ khÃ´ng thá»ƒ truy cáº­p vÃ  biáº¿t Ä‘Æ°á»£c ta cÃ³ gÃ¬ á»Ÿ file <code>env.template.js</code> ná»¯a ğŸ¤ª</p>
<h2>ÄÆ°a logics vÃ o ENTRYPOINT</h2>
<p>NhÆ° cÃ¡c báº¡n tháº¥y hiá»‡n táº¡i logics inject ENV ta Ä‘á»ƒ á»Ÿ <code>CMD</code>, kÃ¨m vá»›i command start nginx, trÃ´ng nÃ³ khÃ¡ lÃ  xáº¥u ğŸ¤£</p>
<p>Ta sáº½ chuyá»ƒn qua dÃ¹ng <code>ENTRYPOINT</code> Ä‘Æ°a pháº§n logics vÃ o shell script trÃ´ng cho Ä‘áº¹p nhÃ©.</p>
<p>CÃ¡c báº¡n táº¡o cho mÃ¬nh file <code>entrypoint.sh</code> á»Ÿ root folder project vá»›i ná»™i dung nhÆ° sau:</p>
<pre class="language-shell" data-filename><code class="language-shell"><span class="token shebang important">#!/bin/sh</span>

<span class="token comment"># Substitute environment variables in env.js</span>
envsubst <span class="token operator">&lt;</span> env.template.js <span class="token operator">&gt;</span> env.js

<span class="token comment"># Remove template file</span>
<span class="token function">rm</span> env.template.js

nginx -g <span class="token string">'daemon off;'</span>
</code></pre>
<p>Sau Ä‘Ã³ á»Ÿ <code>Dockerfile</code> ta sá»­a láº¡i chÃºt:</p>
<pre class="language-dockerfile" data-filename><code class="language-dockerfile"><span class="token instruction"><span class="token keyword">FROM</span> node:20-alpine <span class="token keyword">as</span> build-stage</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> package.json yarn.lock* ./</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn --frozen-lockfile</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>
<span class="token instruction"><span class="token keyword">RUN</span> yarn build</span>

<span class="token instruction"><span class="token keyword">FROM</span> nginx:1.25-alpine</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/share/nginx/html</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-stage</span></span> /app/dist .</span>
<span class="token instruction"><span class="token keyword">COPY</span> entrypoint.sh .</span>
<span class="token instruction"><span class="token keyword">RUN</span> chmod +x entrypoint.sh</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>

<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">"./entrypoint.sh"</span>]</span>
</code></pre>
<p>Logics thÃ¬ y há»‡t cÃ¡c báº¡n tá»± tháº©m nha ğŸ˜</p>
<p>Sau Ä‘Ã³ ta rebuild láº¡i project vÃ  test thá»­ trÃªn trÃ¬nh duyá»‡t Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© váº«n oke nha:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose down
docker compose up -d --build
</code></pre>
<h2>Cache env file vá»›i HTTP caching</h2>
<p>Náº¿u cÃ¡c báº¡n Ä‘á»ƒ Ã½ thÃ¬ hiá»‡n táº¡i app cá»§a chÃºng ta sáº½ luÃ´n load file <code>env.js</code> Ä‘áº§u tiÃªn sau Ä‘Ã³ má»›i load Ä‘áº¿n nhá»¯ng thÃ nh pháº§n khÃ¡c. Ta khÃ´ng dÃ¹ng <code>async</code> hay <code>defer</code> mÃ  ta muá»‘n Ä‘áº£m báº£o lÃ  env pháº£i ready trÆ°á»›c thÃ¬ má»›i load app</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="3444" height="1692" style="background: url('https://images.viblo.asia/60/c1e7cb52-5d1f-49b4-8299-9caddc585aaf.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="3444" height="1692" data-full-src="https://images.viblo.asia/c1e7cb52-5d1f-49b4-8299-9caddc585aaf.png" alt="Screenshot 2024-04-28 at 11.56.04â€¯AM.png" data-tiny-src="https://images.viblo.asia/60/c1e7cb52-5d1f-49b4-8299-9caddc585aaf.png" data-zoom-src="https://images.viblo.asia/full/c1e7cb52-5d1f-49b4-8299-9caddc585aaf.png" data-srcset="https://images.viblo.asia/retina/c1e7cb52-5d1f-49b4-8299-9caddc585aaf.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>Äiá»u nÃ y dáº«n tá»›i má»™t váº¥n Ä‘á» cÃ³ thá»ƒ xáº£y ra: nhÆ° á»Ÿ áº£nh trÃªn ta tháº¥y ráº±ng Ä‘á»ƒ load <code>env.js</code> thÃ¬ ta cÅ©ng tá»‘n 1 network call</p>
<p>Máº·c dÃ¹ <code>env.js</code> vÃ  code bundle frontend Ä‘áº·t chung 1 chá»—, nÃªn náº¿u FE load nhanh thÃ¬ <code>env.js</code> thÆ°á»ng load cÅ©ng sáº½ nhanh, nhÆ°ng khi cháº¡y production user nhiá»u thÃ¬ sáº½ cÃ³ thá»ƒ cÃ³ nhá»¯ng trÆ°á»ng há»£p mÃ  network báº¥t á»•n dáº«n tá»›i viá»‡c <code>env.js</code> load cháº­m hÆ¡n, dáº«n tá»›i toÃ n bá»™ app cá»§a ta load cháº­m Ä‘i</p>
<p>Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y ta cÃ³ nhiá»u cÃ¡ch, á»Ÿ bÃ i nÃ y ta sáº½ dÃ¹ng HTTP caching nhÃ©. VÃ¬ mÃ¬nh tháº¥y Ä‘Ã¢y lÃ  1 kÄ© thuáº­t phá»• biáº¿n, Ä‘Æ°á»£c dÃ¹ng rá»™ng rÃ£i, nhÆ°ng cÃ³ váº» hiá»‡n táº¡i nÃ³ khÃ´ng Ä‘Æ°á»£c phá»• biáº¿n nhiá»u tá»›i anh em dev FE ná»¯a. Vá» cÆ¡ báº£n kÄ© thuáº­t nÃ y lÃ  tá»« Nginx ta sáº½ tráº£ vá» header "bÃ¡o hiá»‡u" cho trÃ¬nh duyá»‡t biáº¿t ráº±ng "Ãª cache file nÃ y láº¡i nha nÃ³ Ã­t thay Ä‘á»•i láº¯m" ğŸ« </p>
<p>Äáº§u tiÃªn cÃ¡c báº¡n táº¡o mÃ¬nh file <code>app.nginx.conf</code> Ä‘á»ƒ cáº¥u hÃ¬nh nginx cho app cá»§a chÃºng ta:</p>
<pre class="language-none" data-filename><code class="language-none">server {
    listen       80;
    server_name  localhost;

    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }

    location = /env.js {
        root /usr/share/nginx/html;
        expires 5s;  # Cache for 1 hour
    }

    error_page   500 502 503 504  /50x.html;
    
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

}
</code></pre>
<p>Thá»±c táº¿ file nÃ y mÃ¬nh copy tá»« file máº·c Ä‘á»‹nh cá»§a nginx vÃ  chá»‰ thÃªm vÃ o Ä‘Ãºng 1 Ä‘oáº¡n <code>location = /env.js</code>, á»Ÿ Ä‘Ã¢y ta nÃ³i vá»›i trÃ¬nh duyá»‡t lÃ  cache file nÃ y láº¡i 5 giÃ¢y (Ä‘á»ƒ dá»… demo, thá»±c táº¿ ta nÃªn chá»n thá»i gian cao hÆ¡n nhÆ° 1 giá»/1 tuáº§n,...)</p>
<p>Sau Ä‘Ã³ ta sá»­a láº¡i <code>docker-compose.yml</code> chÃºt Ä‘á»ƒ mount file nÃ y vÃ o container:</p>
<pre class="language-yml" data-filename><code class="language-yml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> .
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./app.nginx.conf<span class="token punctuation">:</span>/etc/nginx/conf.d/default.conf
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> HELLO_MESSAGE=Hello World
</code></pre>
<p>VÃ  giá» ta restart láº¡i láº¡i lÃ  Ä‘Æ°á»£c rá»“i (khÃ´ng cáº§n rebuild vÃ¬ ta khÃ´ng sá»­a gÃ¬ liÃªn quan tá»›i Dockerfile):</p>
<pre class="language-none" data-filename><code class="language-none">docker compose down
docker compose up -d --build
</code></pre>
<p>Sau Ä‘Ã³ ta quay láº¡i trÃ¬nh duyá»‡t vÃ  F5 nhiá»u láº§n sáº½ tháº¥y nhÆ° sau:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="600" height="344" style="background: url('https://images.viblo.asia/60/edbc6c98-7609-40ea-a646-073a3023f61e.gif') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="600" height="344" data-full-src="https://images.viblo.asia/edbc6c98-7609-40ea-a646-073a3023f61e.gif" alt="ezgif-5-695cee45c8.gif" data-tiny-src="https://images.viblo.asia/60/edbc6c98-7609-40ea-a646-073a3023f61e.gif" data-zoom-src="https://images.viblo.asia/full/edbc6c98-7609-40ea-a646-073a3023f61e.gif" data-srcset="https://images.viblo.asia/retina/edbc6c98-7609-40ea-a646-073a3023f61e.gif 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>Nhá»¯ng gÃ¬ xáº£y ra bÃªn trÃªn nhÆ° sau:</p>
<ul>
<li>Láº§n Ä‘áº§u tiÃªn: load <code>env.js</code> qua network</li>
<li>Trong vÃ²ng 5 giÃ¢y tiáº¿p theo náº¿u ta liÃªn tá»¥c F5 sáº½ tháº¥y trÃ¬nh duyá»‡t dÃ¹ng luÃ´n tá»« <code>memory cache</code></li>
<li>Háº¿t thá»i gian 5 giÃ¢y thÃ¬ láº¡i tiáº¿p tá»¥c load <code>env.js</code> qua network</li>
</ul>
<p>Náº¿u ta inspect request header lÃªn sáº½ tháº¥y lÃ  nginx gá»­i vá» trÃ¬nh duyá»‡t header <code>max-age</code> nhÆ° sau:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="3028" height="816" style="background: url('https://images.viblo.asia/60/21984028-6ff4-4cdf-b17f-b4a78f540c44.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="3028" height="816" data-full-src="https://images.viblo.asia/21984028-6ff4-4cdf-b17f-b4a78f540c44.png" alt="Screenshot 2024-04-28 at 12.22.03â€¯PM.png" data-tiny-src="https://images.viblo.asia/60/21984028-6ff4-4cdf-b17f-b4a78f540c44.png" data-zoom-src="https://images.viblo.asia/full/21984028-6ff4-4cdf-b17f-b4a78f540c44.png" data-srcset="https://images.viblo.asia/retina/21984028-6ff4-4cdf-b17f-b4a78f540c44.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>Khi trÃ¬nh duyá»‡t tháº¥y cÃ³ <code>Cache-Control</code> á»Ÿ header lÃ  sáº½ thá»±c hiá»‡n caching theo nhá»¯ng strategy Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh sáºµn</p>
<h2>ÄÆ°a tháº³ng vÃ o index.html</h2>
<p>Náº¿u ta tháº¥y ráº±ng viá»‡c dÃ¹ng file <code>env.js</code> nÃ y kiá»ƒu gÃ¬ cÅ©ng tá»‘n Ã­t nháº¥t 1 network call, vÃ  ta muá»‘n cáº£i thiá»‡n viá»‡c nÃ y thÃ¬ ta cÃ³ thá»ƒ Ä‘Æ°a táº¥t cáº£ vÃ o <code>index.html</code> cÅ©ng Ä‘Æ°á»£c luÃ´n ğŸ˜ğŸ˜</p>
<p>Ta sá»­a láº¡i <code>index.html</code> xoÃ¡ luÃ´n Ä‘oáº¡n import script cho <code>env.js</code> Ä‘i nhÃ©:</p>
<pre class="language-html" data-filename><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vite.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite + React + TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/main.tsx<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre>
<p>Giá» ta cÃ³ thá»ƒ xoÃ¡ <code>env.js</code> vÃ  <code>env.template.js</code> trong folder <code>public</code> Ä‘i rá»“i. Sau Ä‘Ã³ ta update láº¡i <code>entrypoint.sh</code> ná»¯a nha:</p>
<pre class="language-shell" data-filename><code class="language-shell"><span class="token shebang important">#!/bin/sh</span>

<span class="token function">cp</span> index.html index.template.html

<span class="token function">sed</span> -i <span class="token string">'1i &lt;script&gt;\n  window.__HELLO_MESSAGE__ = "${HELLO_MESSAGE}";\n&lt;/script&gt;\n'</span> index.template.html

envsubst <span class="token operator">&lt;</span> index.template.html <span class="token operator">&gt;</span> index.html

<span class="token function">rm</span> index.template.html

nginx -g <span class="token string">'daemon off;'</span>
</code></pre>
<p>á» trÃªn cÃ¡c báº¡n tháº¥y ráº±ng ta táº¡o file <code>index.template.html</code> tá»« ná»™i dung hiá»‡n táº¡i cá»§a <code>index.html</code>, lÃ­ do lÃ  vÃ¬ ná»™i dung cá»§a <code>index.html</code> sau khi build thÃ¬ bundler sáº½ inject má»™t Ä‘á»‘ng thá»© khÃ¡c vÃ o vÃ  ta khÃ´ng Ä‘oÃ¡n trÆ°á»›c Ä‘Æ°á»£c nÃ³ lÃ  gÃ¬, nom nÃ³ nhÆ° sau:</p>
<pre class="language-html" data-filename><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vite.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite + React + TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/index-fk17Nz9V.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/index-DiwrgTda.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>NhÆ° cÃ¡c báº¡n tháº¥y content cá»§a <code>index.html</code> lÃ  random khÃ´ng Ä‘oÃ¡n trÆ°á»›c váº­y nÃªn vá»›i cÃ¡ch nÃ y ta khÃ´ng táº¡o file template riÃªng</p>
<p>Quay trá»Ÿ láº¡i vá»›i file <code>entrypoint.sh</code> mÃ  ta vá»«a update, á»Ÿ Ä‘Ã³ ta cÃ³:</p>
<ul>
<li>copy tá»« file <code>index.html</code> ra file <code>index.template.html</code></li>
<li>dÃ¹ng <code>sed</code> Ä‘á»ƒ insert vÃ o Ä‘áº§u file template pháº§n code JS</li>
<li>logics cÃ²n láº¡i thÃ¬ váº«n váº­y</li>
</ul>
<p>Káº¿t quáº£ mÃ  lÃ¡t ná»¯a ta sáº½ nháº­n Ä‘Æ°á»£c file <code>index.html</code> vá»›i ná»™i dung xÃªm xÃªm nhÆ° sau:</p>
<pre class="language-html" data-filename><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span>__HELLO_MESSAGE__ <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/vite.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Vite + React + TS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/index-fk17Nz9V.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">crossorigin</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/index-DiwrgTda.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<p>VÃ¬ giá» ta khÃ´ng dÃ¹ng <code>env.js</code> ná»¯a nÃªn ta cÅ©ng cháº£ cáº§n custom cáº¥u hÃ¬nh nginx ná»¯a, nÃªn á»Ÿ file <code>docker-compose.yml</code> ta cÃ³ thá»ƒ bá» Ä‘i Ä‘oáº¡n mount volume:</p>
<pre class="language-yml" data-filename><code class="language-yml"><span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> .
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">80</span>
    <span class="token comment"># volumes:</span>
    <span class="token comment">#   - ./app.nginx.conf:/etc/nginx/conf.d/default.conf</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> HELLO_MESSAGE=Hello World
</code></pre>
<p>VÃ  giá» ta rebuild project rá»“i start nha:</p>
<pre class="language-none" data-filename><code class="language-none">docker compose down
docker compose up -d --build
</code></pre>
<p>Sau khi cháº¡y lÃªn ta sáº½ tháº¥y Ä‘iá»u tÆ°Æ¡ng tá»±:</p>
<p><span class="progressive-img_capturer progressive-img_wrapper article-img-wrapper"><canvas class="progressive-img_tiny progressive-img_filter-blur article-img-tiny" width="3412" height="1872" style="background: url('https://images.viblo.asia/60/f36fec53-e0d2-4999-ad21-026377d3ddcc.png') 100%/100%"></canvas><img class="progressive-img_full progressive-img_hidden article-img" width="3412" height="1872" data-full-src="https://images.viblo.asia/f36fec53-e0d2-4999-ad21-026377d3ddcc.png" alt="Screenshot 2024-04-28 at 12.48.02â€¯PM.png" data-tiny-src="https://images.viblo.asia/60/f36fec53-e0d2-4999-ad21-026377d3ddcc.png" data-zoom-src="https://images.viblo.asia/full/f36fec53-e0d2-4999-ad21-026377d3ddcc.png" data-srcset="https://images.viblo.asia/retina/f36fec53-e0d2-4999-ad21-026377d3ddcc.png 2x" data-wrapper-class="article-img-wrapper" data-tiny-class="article-img-tiny" data-full-class="article-img"></span></p>
<p>NhÆ° cÃ¡c báº¡n tháº¥y thÃ¬ vá»›i cÃ¡ch nÃ y ta bá» háº³n Ä‘Æ°á»£c file <code>env.js</code>, tiáº¿t kiá»‡m Ä‘Æ°á»£c má»™t network call, nhÆ°ng hÆ¡i "tricky" chÃºt Ä‘oáº¡n táº¡o file template tá»« file bundle <code>index.html</code></p>
<blockquote>
<p>á» Ä‘Ã¢y mÃ¬nh lÃ m demo nÃªn cÃ¡c báº¡n Ä‘á»ƒ Ã½ trong <code>entrypoint.sh</code> ta Ä‘ang hardcode trá»±c tiáº¿p biáº¿n mÃ´i trÆ°á»ng á»Ÿ Ä‘Ã³. Khi lÃ m tháº­t, cÃ³ nhiá»u biáº¿n mÃ´i trÆ°á»ng thÃ¬ ta nÃªn tÃ¡ch ra lÃ m 1 file riÃªng, Ä‘á»c content file Ä‘Ã³ lÃªn rá»“i dÃ¹ng <code>sed</code> insert vÃ o <code>index.html</code></p>
</blockquote>
<h1>Káº¿t bÃ i</h1>
<p>NgÃ y xÆ°a mÃ¬nh cá»© nghÄ© lÃ m Frontend lÃ  quanh quáº©n Vue/React/Angular,... UI button, background,... nhÆ°ng thá»±c táº¿ lÃ  Frontend nÃ³ cÃ²n cÃ³ ráº¥t nhiá»u thá»© xung quanh Ä‘á»ƒ ta cÃ³ thá»ƒ "chÆ¡i" ğŸ˜‚ vÃ  Ã¡p dá»¥ng vÃ o cÃ¡c bÃ i toÃ¡n thá»±c táº¿. VÃ­ dá»¥ nhÆ° bÃ i nÃ y cÅ©ng xuáº¥t phÃ¡t tá»« yÃªu cáº§u cÃ´ng viá»‡c cá»§a mÃ¬nh cáº§n <code>Build once, run everywhere</code> cho frontend</p>
<p>Hi vá»ng Ä‘Ã£ Ä‘em tá»›i cho cÃ¡c báº¡n má»™t cÃ¡ch má»›i trong viá»‡c xá»­ lÃ½ ENV cho frontend.</p>
<p>ChÃºc cÃ¡c báº¡n cuá»‘i tuáº§n vui váº» háº¹n gáº·p láº¡i cÃ¡c báº¡n vÃ o cÃ¡c bÃ i sau ğŸ‘‹</p>
</div> <!----></div> <!----> <div class="tags d-flex flex-wrap align-items-center" data-v-4365a2a0> <a href="/tags/env" class="el-tag tag el-tag--info el-tag--medium" data-v-a25ec9b2 data-v-4365a2a0>
        env
    </a><a href="/tags/frontend" class="el-tag tag el-tag--info el-tag--medium" data-v-a25ec9b2 data-v-4365a2a0>
        frontend
    </a><a href="/tags/build-docker" class="el-tag tag el-tag--info el-tag--medium" data-v-a25ec9b2 data-v-4365a2a0>
        build docker
    </a><a href="/tags/docker-compose" class="el-tag tag el-tag--info el-tag--medium" data-v-a25ec9b2 data-v-4365a2a0>
        Docker Compose
    </a> </div> <br> <p title="People cannot distribute, remix, adapt, and build upon this workwithout author's permission (or as permitted by fair use)." class="license-text text-muted">
    All rights reserved
</p> <div class="post-footer d-flex align-items-center justify-content-end mb-2"><div class="social-sharing mr-1 social-sharing--vertical social-sharing--medium" data-v-235dd1c0><a tooltip-placement="bottom" rel="noopener" title="Chia sáº» liÃªn káº¿t Ä‘áº¿n trang nÃ y trÃªn Facebook" class="link link--muted link--muted" data-v-235dd1c0><i aria-hidden="true" class="fa fa-facebook" data-v-235dd1c0></i></a> <a tooltip-placement="bottom" rel="noopener" title="Chia sáº» liÃªn káº¿t Ä‘áº¿n trang nÃ y trÃªn Twitter" class="link link--muted link--muted" data-v-235dd1c0><i aria-hidden="true" class="fa fa-twitter" data-v-235dd1c0></i></a></div> <div class="post__menu"><div class="el-dropdown"><button type="button" title="Hiá»ƒn thá»‹ cÃ¡c hÃ nh Ä‘á»™ng" class="el-button p-0 el-button--text text-muted"><!----><i class="post__menu__more el-icon-more-outline"></i><!----></button> <ul class="el-dropdown-menu el-popper el-dropdown-menu--medium" style="display:none;"><!----> <li tabindex="-1" class="el-dropdown-menu__item"><!----><i aria-hidden="true" class="fa fa-flag-o pr-0 mr-05"></i>
                BÃ¡o cÃ¡o
            </li> <li tabindex="-1" class="el-dropdown-menu__item"><!----><i aria-hidden="true" class="fa fa-plus-square-o pr-0 mr-05"></i>
                ThÃªm vÃ o series cá»§a tÃ´i
            </li> <!----> <!----> <!----> <!----> <!----> <!----></ul></div> <!----> <!----> <!----> <!----> <!----></div></div></article></div> <div class="post-body__right hidden-md-down"><div data-fetch-key="0" class="sidebar-wrapper post-sidebar post-body__sidebar"><div class="dummy"></div> <div class="sticky-sidebar" style="top:80px;max-height:calc(100vh - 88px);"><div class="post-index hidden-sm-down"><div class="section-title-line"><h4 class="text-uppercase">
            Má»¥c lá»¥c
        </h4> <hr class="filler-line"></div> <div role="alert" class="el-alert el-alert--info is-light"><!----><div class="el-alert__content"><!----><p class="el-alert__description">
        KhÃ´ng cÃ³ má»¥c lá»¥c
    </p><!----><i class="el-alert__closebtn el-icon-close" style="display:none;"></i></div></div></div> <!----> <br> <div><div class="swiper-container swiper elated-posts-box slide-show"><div class="swiper-wrapper"><div class="item swiper-slide"><div><div class="pr-1"><div class="suggestion-header d-flex mb-1" data-v-b63f8fca><a href="https://code.viblo.asia/challenges?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" title="Thá»­ thÃ¡ch Ä‘á» xuáº¥t" target="_blank" class="title-suggestions text-uppercase" data-v-b63f8fca>
        Thá»­ thÃ¡ch Ä‘á» xuáº¥t
    </a> <hr class="section-title__filler" data-v-b63f8fca> <!----> <img src="/images/viblo-code.png" alt="Viblo Code" width="24" height="24" class="link-icon" data-v-b63f8fca> <!----> <!----></div> <div class="sidebar__feed-item suggestion-sidebar"><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://code.viblo.asia/challenges/k8mepxmeMyJ?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                SubArray Level Up!!!
            </a> <p class="time-published text-muted">
                thg 11 30, 2023 2:19 CH
            </p> <span><div role="tooltip" id="el-popover-1597" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://code.viblo.asia/challenges?tag=Greedy Method&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        Greedy Method
                    </a><a href="https://code.viblo.asia/challenges?tag=Dynamic programming&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        Dynamic programming
                    </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="1607-challenges" class="truncate-container"><a href="https://code.viblo.asia/challenges?tag=Greedy Method&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                            Greedy Method
                        </a><a href="https://code.viblo.asia/challenges?tag=Dynamic programming&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                            Dynamic programming
                        </a></div></div></span></span> <div class="d-flex"><span title="Äiá»ƒm: 150" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">150</div></span><span title="Tá»‰ lá»‡ hoÃ n thÃ nh: 3" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">3</div></span><span title="Tá»‰ lá»‡ nháº­n cÃºp: 1" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 14"><path d="M15.7807 2.71209C15.5917 2.55075 15.3249 2.51675 15.1014 2.62556L11.6813 4.29056L8.47216 0.5905C8.35348 0.453625 8.18119 0.375 8.00001 0.375C7.81882 0.375 7.64657 0.453625 7.52785 0.5905L4.31873 4.29053L0.898601 2.62553C0.675069 2.51675 0.408382 2.55072 0.219319 2.71206C0.0302569 2.87341 -0.0452431 3.13147 0.0270381 3.36928L2.40204 11.1818C2.48207 11.4451 2.72485 11.625 3.00001 11.625H13C13.2751 11.625 13.5179 11.4451 13.5979 11.1818L15.9729 3.36931C16.0453 3.1315 15.9698 2.87344 15.7807 2.71209ZM12.5367 10.375H3.46323L1.63976 4.37663L4.20294 5.62447C4.45744 5.74834 4.76326 5.68578 4.94866 5.47203L8.00001 1.95391L11.0514 5.47203C11.2368 5.68581 11.5427 5.74831 11.7971 5.62447L14.3603 4.37663L12.5367 10.375Z" fill="#707070"></path></svg> <!----> <!----> <!----></div> <div class="stat-value-suggestion">1</div></span></div></div> <a href="https://code.viblo.asia/challenges?rank=E&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-E rank">
            E
        </a></div></div><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://code.viblo.asia/challenges/4openvPe7Az?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                PLAY MATRIX
            </a> <p class="time-published text-muted">
                thg 11 30, 2023 7:05 SA
            </p> <span><div role="tooltip" id="el-popover-9811" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://code.viblo.asia/challenges?tag=matrix&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        matrix
                    </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="1605-challenges" class="truncate-container"><a href="https://code.viblo.asia/challenges?tag=matrix&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                            matrix
                        </a></div></div></span></span> <div class="d-flex"><span title="Äiá»ƒm: 100" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">100</div></span><span title="Tá»‰ lá»‡ hoÃ n thÃ nh: 0" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">0</div></span><span title="Tá»‰ lá»‡ nháº­n cÃºp: 0" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 14"><path d="M15.7807 2.71209C15.5917 2.55075 15.3249 2.51675 15.1014 2.62556L11.6813 4.29056L8.47216 0.5905C8.35348 0.453625 8.18119 0.375 8.00001 0.375C7.81882 0.375 7.64657 0.453625 7.52785 0.5905L4.31873 4.29053L0.898601 2.62553C0.675069 2.51675 0.408382 2.55072 0.219319 2.71206C0.0302569 2.87341 -0.0452431 3.13147 0.0270381 3.36928L2.40204 11.1818C2.48207 11.4451 2.72485 11.625 3.00001 11.625H13C13.2751 11.625 13.5179 11.4451 13.5979 11.1818L15.9729 3.36931C16.0453 3.1315 15.9698 2.87344 15.7807 2.71209ZM12.5367 10.375H3.46323L1.63976 4.37663L4.20294 5.62447C4.45744 5.74834 4.76326 5.68578 4.94866 5.47203L8.00001 1.95391L11.0514 5.47203C11.2368 5.68581 11.5427 5.74831 11.7971 5.62447L14.3603 4.37663L12.5367 10.375Z" fill="#707070"></path></svg> <!----> <!----> <!----></div> <div class="stat-value-suggestion">0</div></span></div></div> <a href="https://code.viblo.asia/challenges?rank=E&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-E rank">
            E
        </a></div></div><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://code.viblo.asia/challenges/OpnelqVaKBz?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                Special Substring
            </a> <p class="time-published text-muted">
                thg 11 29, 2023 3:54 SA
            </p> <span><div role="tooltip" id="el-popover-1495" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://code.viblo.asia/challenges?tag=string&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        string
                    </a><a href="https://code.viblo.asia/challenges?tag=Substring&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        Substring
                    </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="1603-challenges" class="truncate-container"><a href="https://code.viblo.asia/challenges?tag=string&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                            string
                        </a><a href="https://code.viblo.asia/challenges?tag=Substring&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                            Substring
                        </a></div></div></span></span> <div class="d-flex"><span title="Äiá»ƒm: 350" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">350</div></span><span title="Tá»‰ lá»‡ hoÃ n thÃ nh: 0" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">0</div></span><span title="Tá»‰ lá»‡ nháº­n cÃºp: 0" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 14"><path d="M15.7807 2.71209C15.5917 2.55075 15.3249 2.51675 15.1014 2.62556L11.6813 4.29056L8.47216 0.5905C8.35348 0.453625 8.18119 0.375 8.00001 0.375C7.81882 0.375 7.64657 0.453625 7.52785 0.5905L4.31873 4.29053L0.898601 2.62553C0.675069 2.51675 0.408382 2.55072 0.219319 2.71206C0.0302569 2.87341 -0.0452431 3.13147 0.0270381 3.36928L2.40204 11.1818C2.48207 11.4451 2.72485 11.625 3.00001 11.625H13C13.2751 11.625 13.5179 11.4451 13.5979 11.1818L15.9729 3.36931C16.0453 3.1315 15.9698 2.87344 15.7807 2.71209ZM12.5367 10.375H3.46323L1.63976 4.37663L4.20294 5.62447C4.45744 5.74834 4.76326 5.68578 4.94866 5.47203L8.00001 1.95391L11.0514 5.47203C11.2368 5.68581 11.5427 5.74831 11.7971 5.62447L14.3603 4.37663L12.5367 10.375Z" fill="#707070"></path></svg> <!----> <!----> <!----></div> <div class="stat-value-suggestion">0</div></span></div></div> <a href="https://code.viblo.asia/challenges?rank=B&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-B rank">
            B
        </a></div></div></div></div></div> <!----> <!----></div><div class="item swiper-slide"><!----> <div><div class="pr-1"><div class="suggestion-header d-flex mb-1" data-v-b63f8fca><a href="https://ctf.viblo.asia/puzzles?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" title="CÃ¢u Ä‘á»‘ Ä‘á» xuáº¥t" target="_blank" class="title-suggestions text-uppercase" data-v-b63f8fca>
        CÃ¢u Ä‘á»‘ Ä‘á» xuáº¥t
    </a> <hr class="section-title__filler" data-v-b63f8fca> <!----> <!----> <img src="/images/viblo-ctf.png" alt="Viblo Code" width="24" height="24" class="link-icon" data-v-b63f8fca> <!----></div> <div class="sidebar__feed-item suggestion-sidebar"><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://ctf.viblo.asia/puzzles/validatingggg-tviggg89q8z?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                Validatingggg
            </a> <p class="time-published text-muted">
                thg 1 15, 9:15 SA
            </p> <!----> <div class="d-flex"><span title="Äiá»ƒm: 200" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">200</div></span><span title="Sá»‘ ngÆ°á»i hoÃ n thÃ nh: 7" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">7</div></span></div></div> <a href="https://ctf.viblo.asia/puzzles?rank=D&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-D rank">
            D
        </a></div></div><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://ctf.viblo.asia/puzzles/pexpore-xcunpyihnmz?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                Pexpore
            </a> <p class="time-published text-muted">
                thg 1 15, 9:09 SA
            </p> <!----> <div class="d-flex"><span title="Äiá»ƒm: 200" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">200</div></span><span title="Sá»‘ ngÆ°á»i hoÃ n thÃ nh: 2" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">2</div></span></div></div> <a href="https://ctf.viblo.asia/puzzles?rank=D&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-D rank">
            D
        </a></div></div><div class="mt-1"><div class="header-challenge"><div class="left-box" style="width:80%;"><a href="https://ctf.viblo.asia/puzzles/3-numbers-zchx5q4xl4n?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                3 Numbers
            </a> <p class="time-published text-muted">
                thg 1 10, 4:09 CH
            </p> <!----> <div class="d-flex"><span title="Äiá»ƒm: 200" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M3.1335 13.7169C2.98011 13.7169 2.8278 13.6691 2.6978 13.5751C2.45565 13.3996 2.34254 13.0979 2.40844 12.8069L3.3091 8.83947L0.254639 6.16078C0.0301159 5.96478 -0.055656 5.65437 0.0365247 5.37035C0.128705 5.08687 0.379505 4.88617 0.676449 4.85871L4.71787 4.49181L6.31571 0.75256C6.43352 0.477834 6.70184 0.300415 6.99996 0.300415C7.29808 0.300415 7.5664 0.477834 7.68421 0.751919L9.28205 4.49181L13.3228 4.85871C13.6204 4.88552 13.8712 5.08687 13.9634 5.37035C14.0556 5.65384 13.9703 5.96478 13.7458 6.16078L10.6914 8.83893L11.592 12.8062C11.658 13.0979 11.5448 13.3996 11.3028 13.5745C11.0613 13.7495 10.7392 13.763 10.4849 13.6101L6.99996 11.5276L3.51504 13.6113C3.39722 13.6813 3.26595 13.7169 3.1335 13.7169ZM6.99996 10.6304C7.13241 10.6304 7.26358 10.666 7.3815 10.736L10.6704 12.703L9.82039 8.95846C9.75972 8.69196 9.85019 8.41371 10.0561 8.2334L12.9402 5.70404L9.1245 5.35754C8.84977 5.33244 8.6135 5.15972 8.50615 4.90657L6.99996 1.37785L5.49196 4.9071C5.38578 5.15854 5.14951 5.33126 4.87542 5.35636L1.05916 5.70287L3.94315 8.23223C4.14973 8.41306 4.24009 8.69078 4.17889 8.95792L3.3295 12.7024L6.61842 10.736C6.73624 10.666 6.86751 10.6304 6.99996 10.6304ZM4.687 4.56412C4.687 4.56412 4.687 4.56476 4.68636 4.5653L4.687 4.56412ZM9.31174 4.56241L9.31238 4.56359C9.31238 4.56295 9.31238 4.56295 9.31174 4.56241Z" fill="#707070"></path></svg> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">200</div></span><span title="Sá»‘ ngÆ°á»i hoÃ n thÃ nh: 54" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1597_2580)"><path d="M15.3 8.00009C15.3 12.0317 12.0316 15.3001 8 15.3001C3.96832 15.3001 0.7 12.0317 0.7 8.00009C0.7 3.96841 3.96832 0.700092 8 0.700092C12.0316 0.700092 15.3 3.96841 15.3 8.00009Z" stroke="#707070" stroke-width="1.4"></path> <path d="M6.86346 10.7368C6.70338 10.7368 6.5513 10.6728 6.43925 10.5608L4.17409 8.29563C3.94197 8.06352 3.94197 7.67933 4.17409 7.44721C4.4062 7.2151 4.79039 7.2151 5.02251 7.44721L6.86346 9.28812L10.9775 5.17409C11.2096 4.94197 11.5938 4.94197 11.8259 5.17409C12.058 5.4062 12.058 5.79039 11.8259 6.02251L7.28767 10.5608C7.17561 10.6728 7.02354 10.7368 6.86346 10.7368Z" fill="#707070"></path></g> <defs><clipPath id="clip0_1597_2580"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">54</div></span></div></div> <a href="https://ctf.viblo.asia/puzzles?rank=D&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="challenge-rank-D rank">
            D
        </a></div></div></div></div></div> <!----></div><div class="item swiper-slide"><!----> <!----> <div><div class="pr-1"><div class="suggestion-header d-flex mb-1" data-v-b63f8fca><a href="https://learn.viblo.asia/courses?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" title="KhÃ³a há»c Ä‘á» xuáº¥t" target="_blank" class="title-suggestions text-uppercase" data-v-b63f8fca>
        KhÃ³a há»c Ä‘á» xuáº¥t
    </a> <hr class="section-title__filler" data-v-b63f8fca> <!----> <!----> <!----> <img src="/images/viblo-learn.png" alt="Viblo Code" width="24" height="24" class="link-icon" data-v-b63f8fca></div> <div class="sidebar__feed-item suggestion-sidebar"><div class="mt-1"><div class="d-flex flex-column"><div class="header-course"><div class="left-box" style="width:70%;"><a href="https://learn.viblo.asia/courses/html-for-beginners-4y1aKrReQG?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                    HTML for Beginners
                </a> <p class="time-published text-muted">
                    thg 10 16, 2020 8:07 SA
                </p></div> <a href="https://learn.viblo.asia/courses?level=beginning&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="course-level beginning">
                CÆ¡ báº£n
            </a></div> <p class="time-published text-muted">
            
        </p> <span><div role="tooltip" id="el-popover-5533" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://learn.viblo.asia/courses?tag=HTML&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    HTML
                </a><a href="https://learn.viblo.asia/courses?tag=Web Development&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    Web Development
                </a><a href="https://learn.viblo.asia/courses?tag=beginner&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    beginner
                </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    frontend
                </a><a href="https://learn.viblo.asia/courses?tag=front-end&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    front-end
                </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="65-course" class="truncate-container"><a href="https://learn.viblo.asia/courses?tag=HTML&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        HTML
                    </a><a href="https://learn.viblo.asia/courses?tag=Web Development&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        Web Development
                    </a><a href="https://learn.viblo.asia/courses?tag=beginner&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        beginner
                    </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        frontend
                    </a><a href="https://learn.viblo.asia/courses?tag=front-end&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        front-end
                    </a></div></div></span></span> <div course="[object Object]" class="d-flex"><span title="LÆ°á»£t xem: 12956" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <svg width="16" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 16C13.25 16 14.3127 15.5627 15.188 14.688C16.0627 13.8127 16.5 12.75 16.5 11.5C16.5 10.25 16.0627 9.18733 15.188 8.312C14.3127 7.43733 13.25 7 12 7C10.75 7 9.68733 7.43733 8.812 8.312C7.93733 9.18733 7.5 10.25 7.5 11.5C7.5 12.75 7.93733 13.8127 8.812 14.688C9.68733 15.5627 10.75 16 12 16ZM12 14.2C11.25 14.2 10.6127 13.9373 10.088 13.412C9.56267 12.8873 9.3 12.25 9.3 11.5C9.3 10.75 9.56267 10.1123 10.088 9.587C10.6127 9.06233 11.25 8.8 12 8.8C12.75 8.8 13.3877 9.06233 13.913 9.587C14.4377 10.1123 14.7 10.75 14.7 11.5C14.7 12.25 14.4377 12.8873 13.913 13.412C13.3877 13.9373 12.75 14.2 12 14.2ZM12 19C9.56667 19 7.35 18.3207 5.35 16.962C3.35 15.604 1.9 13.7833 1 11.5C1.9 9.21667 3.35 7.39567 5.35 6.037C7.35 4.679 9.56667 4 12 4C14.4333 4 16.65 4.679 18.65 6.037C20.65 7.39567 22.1 9.21667 23 11.5C22.1 13.7833 20.65 15.604 18.65 16.962C16.65 18.3207 14.4333 19 12 19ZM12 17C13.8833 17 15.6127 16.504 17.188 15.512C18.7627 14.5207 19.9667 13.1833 20.8 11.5C19.9667 9.81667 18.7627 8.479 17.188 7.487C15.6127 6.49567 13.8833 6 12 6C10.1167 6 8.38733 6.49567 6.812 7.487C5.23733 8.479 4.03333 9.81667 3.2 11.5C4.03333 13.1833 5.23733 14.5207 6.812 15.512C8.38733 16.504 10.1167 17 12 17Z" fill="#B8B8B8"></path></svg> <!----> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">12.9K</div></span><span title="Sá»‘ lÆ°á»£ng há»c viÃªn: 1670" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" width="16" height="16" viewBox="0 0 24 24" id="åœ–å±¤_1" data-name="åœ–å±¤ 1" xmlns="http://www.w3.org/2000/svg"><title>usergroup</title> <path d="M20.69,12.24a10.74,10.74,0,0,1-1.52-.73,6.86,6.86,0,0,0,1.41-2.09A1.27,1.27,0,0,0,21,9a2.51,2.51,0,0,0,.32-2,1.61,1.61,0,0,0-.37-.6,7.46,7.46,0,0,0-.22-1.72,4.15,4.15,0,0,0-4.17-2.83,4.07,4.07,0,0,0-4,2.56,5.19,5.19,0,0,0-.71-.06c-.17,0-.32,0-.47,0a4.21,4.21,0,0,0-4-2.54A4.15,4.15,0,0,0,3.16,4.63a7.39,7.39,0,0,0-.22,1.72,1.61,1.61,0,0,0-.37.59A2.52,2.52,0,0,0,2.89,9a1.25,1.25,0,0,0,.39.43,8.12,8.12,0,0,0,1.44,2.09,12.6,12.6,0,0,1-1.56.73C.26,13.34.29,15.69.32,17.4a1.85,1.85,0,0,0,1.75,1.85H4a12.36,12.36,0,0,0-.17,1.51,2,2,0,0,0,.54,1.45,1.66,1.66,0,0,0,1.21.54H18.49a1.68,1.68,0,0,0,1.22-.55,1.94,1.94,0,0,0,.53-1.42,11.29,11.29,0,0,0-.2-1.53h1.74a1.85,1.85,0,0,0,1.75-1.85C23.55,15.69,23.59,13.34,20.69,12.24ZM14.55,7.51a6.21,6.21,0,0,1,.17,1.66.66.66,0,0,0,.46.73,1.32,1.32,0,0,1-.21.84,1,1,0,0,0-.45.56c-.16.55-1.27,2.68-2.68,2.68s-2.53-2.13-2.71-2.76a1.09,1.09,0,0,0-.44-.51c-.25-.48-.25-.77-.2-.81a.75.75,0,0,0,.47-.74,6.21,6.21,0,0,1,.17-1.66,2.64,2.64,0,0,1,2.72-1.72A2.61,2.61,0,0,1,14.55,7.51ZM2.07,17.75c-.08,0-.25-.18-.25-.37,0-1.87.08-3.05,1.87-3.73a15.32,15.32,0,0,0,2.73-1.4.75.75,0,0,0,0-1.26A6,6,0,0,1,4.62,8.74a.79.79,0,0,0-.41-.46c-.28-.52-.28-.83-.23-.87a.75.75,0,0,0,.46-.73A6.22,6.22,0,0,1,4.61,5,2.64,2.64,0,0,1,7.33,3.29,2.67,2.67,0,0,1,9.87,4.7,4,4,0,0,0,7.66,7.13a7.41,7.41,0,0,0-.22,1.71,1.6,1.6,0,0,0-.37.59,2.51,2.51,0,0,0,.32,2.05,1.23,1.23,0,0,0,.38.43A7.07,7.07,0,0,0,9.06,14a6.73,6.73,0,0,1-1.4.72,5.28,5.28,0,0,0-3.19,3Zm16.55,3.42a.22.22,0,0,1-.13.08H5.61a.2.2,0,0,1-.12-.07.47.47,0,0,1-.13-.33c.15-2.64,1-4,2.82-4.7A7.9,7.9,0,0,0,10.24,15a3.13,3.13,0,0,0,1.6.46,3.21,3.21,0,0,0,1.83-.62,8.81,8.81,0,0,0,2.25,1.23,3.85,3.85,0,0,1,2.35,2.34.71.71,0,0,0,0,.07.74.74,0,0,0,.2.49,9.18,9.18,0,0,1,.29,1.88A.43.43,0,0,1,18.62,21.17ZM22,17.38c0,.19-.17.37-.25.37H19.6a5.3,5.3,0,0,0-3.15-3.07,7.7,7.7,0,0,1-1.67-.87,7.17,7.17,0,0,0,1.11-1.89,1.28,1.28,0,0,0,.38-.45,2.56,2.56,0,0,0,.29-2.17,1.5,1.5,0,0,0-.34-.49A7.45,7.45,0,0,0,16,7.12a4,4,0,0,0-2-2.33,2.53,2.53,0,0,1,2.52-1.5A2.61,2.61,0,0,1,19.23,5a6.21,6.21,0,0,1,.17,1.66.8.8,0,0,0,.46.77,1.17,1.17,0,0,1-.19.78,1.17,1.17,0,0,0-.47.6,4.71,4.71,0,0,1-1.66,2.06.75.75,0,0,0-.13,1.29,13.59,13.59,0,0,0,2.75,1.48C21.94,14.32,22.05,15.51,22,17.38Z"></path></svg> <!----> <!----></div> <div class="stat-value-suggestion">1.6K</div></span><span title="Tá»•ng sá»‘ cÃ¢u há»i: 506" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.333496 4C0.333496 2.11438 0.333496 1.17157 0.919283 0.585786C1.50507 0 2.44788 0 4.3335 0H9.66683C11.5524 0 12.4953 0 13.081 0.585786C13.6668 1.17157 13.6668 2.11438 13.6668 4V8C13.6668 9.88562 13.6668 10.8284 13.081 11.4142C12.4953 12 11.5524 12 9.66683 12H4.3335C2.44788 12 1.50507 12 0.919283 11.4142C0.333496 10.8284 0.333496 9.88562 0.333496 8V6V4ZM8.27904 5.90797L8.27904 5.90797C8.07113 6.11018 7.89296 6.28345 7.76668 6.51333C7.70002 6.63333 7.66002 6.72667 7.64002 6.93333C7.60668 7.23333 7.34002 7.45333 7.04002 7.45333H7.00002C6.65335 7.45333 6.38002 7.16 6.41335 6.81333C6.43335 6.58667 6.48668 6.35333 6.61335 6.12667C6.79416 5.80563 7.06484 5.55608 7.33156 5.31019C7.54671 5.11184 7.75928 4.91587 7.92002 4.68667C8.30002 4.14667 8.08668 3.13333 7.00668 3.13333C6.53335 3.13333 6.22002 3.37333 6.02668 3.66C5.86002 3.9 5.56668 4.01333 5.29335 3.9C4.94002 3.76 4.81335 3.33333 5.02668 3.02667C5.43335 2.43333 6.11335 2 6.99335 2C7.98002 2 8.65335 2.44667 9.00002 3.01333C9.29335 3.49333 9.46669 4.39333 9.01335 5.06667C8.75276 5.44727 8.49923 5.69384 8.27905 5.90797L8.27904 5.90797ZM7.00668 10C6.54002 10 6.16668 9.62667 6.16668 9.16C6.16668 8.68667 6.54002 8.32667 7.00668 8.32667C7.48002 8.32667 7.84002 8.68667 7.84002 9.16C7.83335 9.62 7.48002 10 7.00668 10Z" fill="#B8B8B8"></path></svg> <!----></div> <div class="stat-value-suggestion">506</div></span><span title="Tá»•ng sá»‘ luá»£t thi: 3764" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" height="16" width="16" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 204 204" xml:space="preserve"><path d="M139.185,157.339h25.175l-27.223,29.022v-26.974C137.137,158.257,138.056,157.339,139.185,157.339z M108.805,44.654
        l7.761-1.004l-4.845-6.953L108.805,44.654z M179.518,5v142.339h-40.333c-6.644,0-12.048,5.405-12.048,12.048V204H29.482
        c-2.762,0-5-2.239-5-5V5c0-2.761,2.238-5,5-5h145.035C177.279,0,179.518,2.239,179.518,5z M95.746,65.76
        c0.568,0.208,1.148,0.307,1.721,0.307c2.038,0,3.953-1.256,4.694-3.281l2.765-7.546l18.084-2.34l4.595,6.594
        c0.973,1.395,2.526,2.142,4.106,2.142c0.987,0,1.984-0.292,2.854-0.898c2.266-1.579,2.822-4.695,1.244-6.96l-21.377-30.677
        c-0.008-0.011-0.019-0.02-0.027-0.031c-0.138-0.196-0.303-0.372-0.47-0.547c-0.061-0.064-0.113-0.141-0.177-0.201
        c-0.132-0.124-0.286-0.226-0.432-0.336c-0.117-0.088-0.225-0.189-0.348-0.266c-0.094-0.059-0.202-0.098-0.301-0.151
        c-0.193-0.103-0.384-0.209-0.588-0.285c-0.014-0.005-0.025-0.014-0.039-0.019c-0.117-0.043-0.237-0.057-0.354-0.091
        c-0.183-0.052-0.364-0.11-0.552-0.141c-0.166-0.028-0.33-0.03-0.496-0.04c-0.157-0.01-0.313-0.028-0.471-0.024
        c-0.169,0.005-0.333,0.034-0.5,0.056c-0.155,0.02-0.31,0.033-0.464,0.068c-0.166,0.038-0.324,0.099-0.486,0.154
        c-0.145,0.049-0.292,0.089-0.434,0.153c-0.192,0.086-0.369,0.197-0.549,0.306c-0.09,0.055-0.185,0.091-0.273,0.152
        c-0.01,0.007-0.018,0.017-0.028,0.024c-0.201,0.142-0.382,0.31-0.561,0.481c-0.061,0.058-0.132,0.107-0.19,0.167
        c-0.121,0.128-0.219,0.278-0.326,0.419c-0.092,0.121-0.197,0.234-0.276,0.362c-0.052,0.083-0.086,0.18-0.134,0.267
        c-0.111,0.205-0.222,0.409-0.303,0.626c-0.005,0.013-0.013,0.023-0.017,0.036L92.772,59.345
        C91.822,61.938,93.153,64.81,95.746,65.76z M108.899,152.339c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5
        h50.65C106.661,157.339,108.899,155.1,108.899,152.339z M130.157,121.839c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5
        c0,2.761,2.238,5,5,5h71.907C127.919,126.839,130.157,124.6,130.157,121.839z M145.75,91.339c0-2.761-2.238-5-5-5h-87.5
        c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5h87.5C143.512,96.339,145.75,94.1,145.75,91.339z M164.797,32.019
        c-0.354-2.737-2.852-4.672-5.601-4.317l-6.681,0.865l-0.865-6.681c-0.354-2.738-2.851-4.673-5.601-4.317
        c-2.738,0.354-4.672,2.862-4.317,5.6l0.865,6.681l-6.681,0.865c-2.738,0.354-4.672,2.861-4.317,5.6
        c0.326,2.521,2.477,4.359,4.953,4.359c0.213,0,0.43-0.014,0.648-0.042l6.681-0.865l0.865,6.681c0.326,2.521,2.477,4.359,4.953,4.359
        c0.213,0,0.43-0.014,0.647-0.042c2.738-0.354,4.672-2.862,4.317-5.6l-0.865-6.681l6.681-0.865
        C163.218,37.265,165.151,34.758,164.797,32.019z"></path></svg></div> <div class="stat-value-suggestion">3.7K</div></span></div></div></div><div class="mt-1"><div class="d-flex flex-column"><div class="header-course"><div class="left-box" style="width:70%;"><a href="https://learn.viblo.asia/courses/client-side-javascript-gl9av2maG1?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                    Client-side Javascript
                </a> <p class="time-published text-muted">
                    thg 9 18, 2020 8:41 SA
                </p></div> <a href="https://learn.viblo.asia/courses?level=beginning&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="course-level beginning">
                CÆ¡ báº£n
            </a></div> <p class="time-published text-muted">
            
        </p> <span><div role="tooltip" id="el-popover-6945" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://learn.viblo.asia/courses?tag=client-side-rendering&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    client-side-rendering
                </a><a href="https://learn.viblo.asia/courses?tag=javascript&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    javascript
                </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    frontend
                </a><a href="https://learn.viblo.asia/courses?tag=front-end&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    front-end
                </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="54-course" class="truncate-container"><a href="https://learn.viblo.asia/courses?tag=client-side-rendering&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        client-side-rendering
                    </a><a href="https://learn.viblo.asia/courses?tag=javascript&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        javascript
                    </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        frontend
                    </a><a href="https://learn.viblo.asia/courses?tag=front-end&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        front-end
                    </a></div></div></span></span> <div course="[object Object]" class="d-flex"><span title="LÆ°á»£t xem: 6277" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <svg width="16" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 16C13.25 16 14.3127 15.5627 15.188 14.688C16.0627 13.8127 16.5 12.75 16.5 11.5C16.5 10.25 16.0627 9.18733 15.188 8.312C14.3127 7.43733 13.25 7 12 7C10.75 7 9.68733 7.43733 8.812 8.312C7.93733 9.18733 7.5 10.25 7.5 11.5C7.5 12.75 7.93733 13.8127 8.812 14.688C9.68733 15.5627 10.75 16 12 16ZM12 14.2C11.25 14.2 10.6127 13.9373 10.088 13.412C9.56267 12.8873 9.3 12.25 9.3 11.5C9.3 10.75 9.56267 10.1123 10.088 9.587C10.6127 9.06233 11.25 8.8 12 8.8C12.75 8.8 13.3877 9.06233 13.913 9.587C14.4377 10.1123 14.7 10.75 14.7 11.5C14.7 12.25 14.4377 12.8873 13.913 13.412C13.3877 13.9373 12.75 14.2 12 14.2ZM12 19C9.56667 19 7.35 18.3207 5.35 16.962C3.35 15.604 1.9 13.7833 1 11.5C1.9 9.21667 3.35 7.39567 5.35 6.037C7.35 4.679 9.56667 4 12 4C14.4333 4 16.65 4.679 18.65 6.037C20.65 7.39567 22.1 9.21667 23 11.5C22.1 13.7833 20.65 15.604 18.65 16.962C16.65 18.3207 14.4333 19 12 19ZM12 17C13.8833 17 15.6127 16.504 17.188 15.512C18.7627 14.5207 19.9667 13.1833 20.8 11.5C19.9667 9.81667 18.7627 8.479 17.188 7.487C15.6127 6.49567 13.8833 6 12 6C10.1167 6 8.38733 6.49567 6.812 7.487C5.23733 8.479 4.03333 9.81667 3.2 11.5C4.03333 13.1833 5.23733 14.5207 6.812 15.512C8.38733 16.504 10.1167 17 12 17Z" fill="#B8B8B8"></path></svg> <!----> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">6.2K</div></span><span title="Sá»‘ lÆ°á»£ng há»c viÃªn: 725" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" width="16" height="16" viewBox="0 0 24 24" id="åœ–å±¤_1" data-name="åœ–å±¤ 1" xmlns="http://www.w3.org/2000/svg"><title>usergroup</title> <path d="M20.69,12.24a10.74,10.74,0,0,1-1.52-.73,6.86,6.86,0,0,0,1.41-2.09A1.27,1.27,0,0,0,21,9a2.51,2.51,0,0,0,.32-2,1.61,1.61,0,0,0-.37-.6,7.46,7.46,0,0,0-.22-1.72,4.15,4.15,0,0,0-4.17-2.83,4.07,4.07,0,0,0-4,2.56,5.19,5.19,0,0,0-.71-.06c-.17,0-.32,0-.47,0a4.21,4.21,0,0,0-4-2.54A4.15,4.15,0,0,0,3.16,4.63a7.39,7.39,0,0,0-.22,1.72,1.61,1.61,0,0,0-.37.59A2.52,2.52,0,0,0,2.89,9a1.25,1.25,0,0,0,.39.43,8.12,8.12,0,0,0,1.44,2.09,12.6,12.6,0,0,1-1.56.73C.26,13.34.29,15.69.32,17.4a1.85,1.85,0,0,0,1.75,1.85H4a12.36,12.36,0,0,0-.17,1.51,2,2,0,0,0,.54,1.45,1.66,1.66,0,0,0,1.21.54H18.49a1.68,1.68,0,0,0,1.22-.55,1.94,1.94,0,0,0,.53-1.42,11.29,11.29,0,0,0-.2-1.53h1.74a1.85,1.85,0,0,0,1.75-1.85C23.55,15.69,23.59,13.34,20.69,12.24ZM14.55,7.51a6.21,6.21,0,0,1,.17,1.66.66.66,0,0,0,.46.73,1.32,1.32,0,0,1-.21.84,1,1,0,0,0-.45.56c-.16.55-1.27,2.68-2.68,2.68s-2.53-2.13-2.71-2.76a1.09,1.09,0,0,0-.44-.51c-.25-.48-.25-.77-.2-.81a.75.75,0,0,0,.47-.74,6.21,6.21,0,0,1,.17-1.66,2.64,2.64,0,0,1,2.72-1.72A2.61,2.61,0,0,1,14.55,7.51ZM2.07,17.75c-.08,0-.25-.18-.25-.37,0-1.87.08-3.05,1.87-3.73a15.32,15.32,0,0,0,2.73-1.4.75.75,0,0,0,0-1.26A6,6,0,0,1,4.62,8.74a.79.79,0,0,0-.41-.46c-.28-.52-.28-.83-.23-.87a.75.75,0,0,0,.46-.73A6.22,6.22,0,0,1,4.61,5,2.64,2.64,0,0,1,7.33,3.29,2.67,2.67,0,0,1,9.87,4.7,4,4,0,0,0,7.66,7.13a7.41,7.41,0,0,0-.22,1.71,1.6,1.6,0,0,0-.37.59,2.51,2.51,0,0,0,.32,2.05,1.23,1.23,0,0,0,.38.43A7.07,7.07,0,0,0,9.06,14a6.73,6.73,0,0,1-1.4.72,5.28,5.28,0,0,0-3.19,3Zm16.55,3.42a.22.22,0,0,1-.13.08H5.61a.2.2,0,0,1-.12-.07.47.47,0,0,1-.13-.33c.15-2.64,1-4,2.82-4.7A7.9,7.9,0,0,0,10.24,15a3.13,3.13,0,0,0,1.6.46,3.21,3.21,0,0,0,1.83-.62,8.81,8.81,0,0,0,2.25,1.23,3.85,3.85,0,0,1,2.35,2.34.71.71,0,0,0,0,.07.74.74,0,0,0,.2.49,9.18,9.18,0,0,1,.29,1.88A.43.43,0,0,1,18.62,21.17ZM22,17.38c0,.19-.17.37-.25.37H19.6a5.3,5.3,0,0,0-3.15-3.07,7.7,7.7,0,0,1-1.67-.87,7.17,7.17,0,0,0,1.11-1.89,1.28,1.28,0,0,0,.38-.45,2.56,2.56,0,0,0,.29-2.17,1.5,1.5,0,0,0-.34-.49A7.45,7.45,0,0,0,16,7.12a4,4,0,0,0-2-2.33,2.53,2.53,0,0,1,2.52-1.5A2.61,2.61,0,0,1,19.23,5a6.21,6.21,0,0,1,.17,1.66.8.8,0,0,0,.46.77,1.17,1.17,0,0,1-.19.78,1.17,1.17,0,0,0-.47.6,4.71,4.71,0,0,1-1.66,2.06.75.75,0,0,0-.13,1.29,13.59,13.59,0,0,0,2.75,1.48C21.94,14.32,22.05,15.51,22,17.38Z"></path></svg> <!----> <!----></div> <div class="stat-value-suggestion">725</div></span><span title="Tá»•ng sá»‘ cÃ¢u há»i: 351" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.333496 4C0.333496 2.11438 0.333496 1.17157 0.919283 0.585786C1.50507 0 2.44788 0 4.3335 0H9.66683C11.5524 0 12.4953 0 13.081 0.585786C13.6668 1.17157 13.6668 2.11438 13.6668 4V8C13.6668 9.88562 13.6668 10.8284 13.081 11.4142C12.4953 12 11.5524 12 9.66683 12H4.3335C2.44788 12 1.50507 12 0.919283 11.4142C0.333496 10.8284 0.333496 9.88562 0.333496 8V6V4ZM8.27904 5.90797L8.27904 5.90797C8.07113 6.11018 7.89296 6.28345 7.76668 6.51333C7.70002 6.63333 7.66002 6.72667 7.64002 6.93333C7.60668 7.23333 7.34002 7.45333 7.04002 7.45333H7.00002C6.65335 7.45333 6.38002 7.16 6.41335 6.81333C6.43335 6.58667 6.48668 6.35333 6.61335 6.12667C6.79416 5.80563 7.06484 5.55608 7.33156 5.31019C7.54671 5.11184 7.75928 4.91587 7.92002 4.68667C8.30002 4.14667 8.08668 3.13333 7.00668 3.13333C6.53335 3.13333 6.22002 3.37333 6.02668 3.66C5.86002 3.9 5.56668 4.01333 5.29335 3.9C4.94002 3.76 4.81335 3.33333 5.02668 3.02667C5.43335 2.43333 6.11335 2 6.99335 2C7.98002 2 8.65335 2.44667 9.00002 3.01333C9.29335 3.49333 9.46669 4.39333 9.01335 5.06667C8.75276 5.44727 8.49923 5.69384 8.27905 5.90797L8.27904 5.90797ZM7.00668 10C6.54002 10 6.16668 9.62667 6.16668 9.16C6.16668 8.68667 6.54002 8.32667 7.00668 8.32667C7.48002 8.32667 7.84002 8.68667 7.84002 9.16C7.83335 9.62 7.48002 10 7.00668 10Z" fill="#B8B8B8"></path></svg> <!----></div> <div class="stat-value-suggestion">351</div></span><span title="Tá»•ng sá»‘ luá»£t thi: 1231" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" height="16" width="16" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 204 204" xml:space="preserve"><path d="M139.185,157.339h25.175l-27.223,29.022v-26.974C137.137,158.257,138.056,157.339,139.185,157.339z M108.805,44.654
        l7.761-1.004l-4.845-6.953L108.805,44.654z M179.518,5v142.339h-40.333c-6.644,0-12.048,5.405-12.048,12.048V204H29.482
        c-2.762,0-5-2.239-5-5V5c0-2.761,2.238-5,5-5h145.035C177.279,0,179.518,2.239,179.518,5z M95.746,65.76
        c0.568,0.208,1.148,0.307,1.721,0.307c2.038,0,3.953-1.256,4.694-3.281l2.765-7.546l18.084-2.34l4.595,6.594
        c0.973,1.395,2.526,2.142,4.106,2.142c0.987,0,1.984-0.292,2.854-0.898c2.266-1.579,2.822-4.695,1.244-6.96l-21.377-30.677
        c-0.008-0.011-0.019-0.02-0.027-0.031c-0.138-0.196-0.303-0.372-0.47-0.547c-0.061-0.064-0.113-0.141-0.177-0.201
        c-0.132-0.124-0.286-0.226-0.432-0.336c-0.117-0.088-0.225-0.189-0.348-0.266c-0.094-0.059-0.202-0.098-0.301-0.151
        c-0.193-0.103-0.384-0.209-0.588-0.285c-0.014-0.005-0.025-0.014-0.039-0.019c-0.117-0.043-0.237-0.057-0.354-0.091
        c-0.183-0.052-0.364-0.11-0.552-0.141c-0.166-0.028-0.33-0.03-0.496-0.04c-0.157-0.01-0.313-0.028-0.471-0.024
        c-0.169,0.005-0.333,0.034-0.5,0.056c-0.155,0.02-0.31,0.033-0.464,0.068c-0.166,0.038-0.324,0.099-0.486,0.154
        c-0.145,0.049-0.292,0.089-0.434,0.153c-0.192,0.086-0.369,0.197-0.549,0.306c-0.09,0.055-0.185,0.091-0.273,0.152
        c-0.01,0.007-0.018,0.017-0.028,0.024c-0.201,0.142-0.382,0.31-0.561,0.481c-0.061,0.058-0.132,0.107-0.19,0.167
        c-0.121,0.128-0.219,0.278-0.326,0.419c-0.092,0.121-0.197,0.234-0.276,0.362c-0.052,0.083-0.086,0.18-0.134,0.267
        c-0.111,0.205-0.222,0.409-0.303,0.626c-0.005,0.013-0.013,0.023-0.017,0.036L92.772,59.345
        C91.822,61.938,93.153,64.81,95.746,65.76z M108.899,152.339c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5
        h50.65C106.661,157.339,108.899,155.1,108.899,152.339z M130.157,121.839c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5
        c0,2.761,2.238,5,5,5h71.907C127.919,126.839,130.157,124.6,130.157,121.839z M145.75,91.339c0-2.761-2.238-5-5-5h-87.5
        c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5h87.5C143.512,96.339,145.75,94.1,145.75,91.339z M164.797,32.019
        c-0.354-2.737-2.852-4.672-5.601-4.317l-6.681,0.865l-0.865-6.681c-0.354-2.738-2.851-4.673-5.601-4.317
        c-2.738,0.354-4.672,2.862-4.317,5.6l0.865,6.681l-6.681,0.865c-2.738,0.354-4.672,2.861-4.317,5.6
        c0.326,2.521,2.477,4.359,4.953,4.359c0.213,0,0.43-0.014,0.648-0.042l6.681-0.865l0.865,6.681c0.326,2.521,2.477,4.359,4.953,4.359
        c0.213,0,0.43-0.014,0.647-0.042c2.738-0.354,4.672-2.862,4.317-5.6l-0.865-6.681l6.681-0.865
        C163.218,37.265,165.151,34.758,164.797,32.019z"></path></svg></div> <div class="stat-value-suggestion">1.2K</div></span></div></div></div><div class="mt-1"><div class="d-flex flex-column"><div class="header-course"><div class="left-box" style="width:70%;"><a href="https://learn.viblo.asia/courses/javascript-core-l4zbqx2apr?utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-content">
                    Javascript Core
                </a> <p class="time-published text-muted">
                    thg 9 1, 2020 7:38 SA
                </p></div> <a href="https://learn.viblo.asia/courses?level=beginning&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="course-level beginning">
                CÆ¡ báº£n
            </a></div> <p class="time-published text-muted">
            
        </p> <span><div role="tooltip" id="el-popover-2996" aria-hidden="true" class="el-popover el-popper" style="width:200px;display:none;"><!----><div class="d-flex flex-wrap"><a href="https://learn.viblo.asia/courses?tag=javascript&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    javascript
                </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    frontend
                </a><a href="https://learn.viblo.asia/courses?tag=javascript-core&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                    javascript-core
                </a></div> </div><span class="el-popover__reference-wrapper"><div><div id="52-course" class="truncate-container"><a href="https://learn.viblo.asia/courses?tag=javascript&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        javascript
                    </a><a href="https://learn.viblo.asia/courses?tag=frontend&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        frontend
                    </a><a href="https://learn.viblo.asia/courses?tag=javascript-core&amp;utm_source=Viblo_Service&amp;utm_medium=Sidebar Detail Post&amp;utm_campaign=SuggestionServices" target="_blank" class="suggestion-item-tags">
                        javascript-core
                    </a></div></div></span></span> <div course="[object Object]" class="d-flex"><span title="LÆ°á»£t xem: 14694" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <svg width="16" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 16C13.25 16 14.3127 15.5627 15.188 14.688C16.0627 13.8127 16.5 12.75 16.5 11.5C16.5 10.25 16.0627 9.18733 15.188 8.312C14.3127 7.43733 13.25 7 12 7C10.75 7 9.68733 7.43733 8.812 8.312C7.93733 9.18733 7.5 10.25 7.5 11.5C7.5 12.75 7.93733 13.8127 8.812 14.688C9.68733 15.5627 10.75 16 12 16ZM12 14.2C11.25 14.2 10.6127 13.9373 10.088 13.412C9.56267 12.8873 9.3 12.25 9.3 11.5C9.3 10.75 9.56267 10.1123 10.088 9.587C10.6127 9.06233 11.25 8.8 12 8.8C12.75 8.8 13.3877 9.06233 13.913 9.587C14.4377 10.1123 14.7 10.75 14.7 11.5C14.7 12.25 14.4377 12.8873 13.913 13.412C13.3877 13.9373 12.75 14.2 12 14.2ZM12 19C9.56667 19 7.35 18.3207 5.35 16.962C3.35 15.604 1.9 13.7833 1 11.5C1.9 9.21667 3.35 7.39567 5.35 6.037C7.35 4.679 9.56667 4 12 4C14.4333 4 16.65 4.679 18.65 6.037C20.65 7.39567 22.1 9.21667 23 11.5C22.1 13.7833 20.65 15.604 18.65 16.962C16.65 18.3207 14.4333 19 12 19ZM12 17C13.8833 17 15.6127 16.504 17.188 15.512C18.7627 14.5207 19.9667 13.1833 20.8 11.5C19.9667 9.81667 18.7627 8.479 17.188 7.487C15.6127 6.49567 13.8833 6 12 6C10.1167 6 8.38733 6.49567 6.812 7.487C5.23733 8.479 4.03333 9.81667 3.2 11.5C4.03333 13.1833 5.23733 14.5207 6.812 15.512C8.38733 16.504 10.1167 17 12 17Z" fill="#B8B8B8"></path></svg> <!----> <!----> <!----> <!----> <!----> <!----></div> <div class="stat-value-suggestion">14.6K</div></span><span title="Sá»‘ lÆ°á»£ng há»c viÃªn: 1709" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" width="16" height="16" viewBox="0 0 24 24" id="åœ–å±¤_1" data-name="åœ–å±¤ 1" xmlns="http://www.w3.org/2000/svg"><title>usergroup</title> <path d="M20.69,12.24a10.74,10.74,0,0,1-1.52-.73,6.86,6.86,0,0,0,1.41-2.09A1.27,1.27,0,0,0,21,9a2.51,2.51,0,0,0,.32-2,1.61,1.61,0,0,0-.37-.6,7.46,7.46,0,0,0-.22-1.72,4.15,4.15,0,0,0-4.17-2.83,4.07,4.07,0,0,0-4,2.56,5.19,5.19,0,0,0-.71-.06c-.17,0-.32,0-.47,0a4.21,4.21,0,0,0-4-2.54A4.15,4.15,0,0,0,3.16,4.63a7.39,7.39,0,0,0-.22,1.72,1.61,1.61,0,0,0-.37.59A2.52,2.52,0,0,0,2.89,9a1.25,1.25,0,0,0,.39.43,8.12,8.12,0,0,0,1.44,2.09,12.6,12.6,0,0,1-1.56.73C.26,13.34.29,15.69.32,17.4a1.85,1.85,0,0,0,1.75,1.85H4a12.36,12.36,0,0,0-.17,1.51,2,2,0,0,0,.54,1.45,1.66,1.66,0,0,0,1.21.54H18.49a1.68,1.68,0,0,0,1.22-.55,1.94,1.94,0,0,0,.53-1.42,11.29,11.29,0,0,0-.2-1.53h1.74a1.85,1.85,0,0,0,1.75-1.85C23.55,15.69,23.59,13.34,20.69,12.24ZM14.55,7.51a6.21,6.21,0,0,1,.17,1.66.66.66,0,0,0,.46.73,1.32,1.32,0,0,1-.21.84,1,1,0,0,0-.45.56c-.16.55-1.27,2.68-2.68,2.68s-2.53-2.13-2.71-2.76a1.09,1.09,0,0,0-.44-.51c-.25-.48-.25-.77-.2-.81a.75.75,0,0,0,.47-.74,6.21,6.21,0,0,1,.17-1.66,2.64,2.64,0,0,1,2.72-1.72A2.61,2.61,0,0,1,14.55,7.51ZM2.07,17.75c-.08,0-.25-.18-.25-.37,0-1.87.08-3.05,1.87-3.73a15.32,15.32,0,0,0,2.73-1.4.75.75,0,0,0,0-1.26A6,6,0,0,1,4.62,8.74a.79.79,0,0,0-.41-.46c-.28-.52-.28-.83-.23-.87a.75.75,0,0,0,.46-.73A6.22,6.22,0,0,1,4.61,5,2.64,2.64,0,0,1,7.33,3.29,2.67,2.67,0,0,1,9.87,4.7,4,4,0,0,0,7.66,7.13a7.41,7.41,0,0,0-.22,1.71,1.6,1.6,0,0,0-.37.59,2.51,2.51,0,0,0,.32,2.05,1.23,1.23,0,0,0,.38.43A7.07,7.07,0,0,0,9.06,14a6.73,6.73,0,0,1-1.4.72,5.28,5.28,0,0,0-3.19,3Zm16.55,3.42a.22.22,0,0,1-.13.08H5.61a.2.2,0,0,1-.12-.07.47.47,0,0,1-.13-.33c.15-2.64,1-4,2.82-4.7A7.9,7.9,0,0,0,10.24,15a3.13,3.13,0,0,0,1.6.46,3.21,3.21,0,0,0,1.83-.62,8.81,8.81,0,0,0,2.25,1.23,3.85,3.85,0,0,1,2.35,2.34.71.71,0,0,0,0,.07.74.74,0,0,0,.2.49,9.18,9.18,0,0,1,.29,1.88A.43.43,0,0,1,18.62,21.17ZM22,17.38c0,.19-.17.37-.25.37H19.6a5.3,5.3,0,0,0-3.15-3.07,7.7,7.7,0,0,1-1.67-.87,7.17,7.17,0,0,0,1.11-1.89,1.28,1.28,0,0,0,.38-.45,2.56,2.56,0,0,0,.29-2.17,1.5,1.5,0,0,0-.34-.49A7.45,7.45,0,0,0,16,7.12a4,4,0,0,0-2-2.33,2.53,2.53,0,0,1,2.52-1.5A2.61,2.61,0,0,1,19.23,5a6.21,6.21,0,0,1,.17,1.66.8.8,0,0,0,.46.77,1.17,1.17,0,0,1-.19.78,1.17,1.17,0,0,0-.47.6,4.71,4.71,0,0,1-1.66,2.06.75.75,0,0,0-.13,1.29,13.59,13.59,0,0,0,2.75,1.48C21.94,14.32,22.05,15.51,22,17.38Z"></path></svg> <!----> <!----></div> <div class="stat-value-suggestion">1.7K</div></span><span title="Tá»•ng sá»‘ cÃ¢u há»i: 1011" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg width="16" height="16" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.333496 4C0.333496 2.11438 0.333496 1.17157 0.919283 0.585786C1.50507 0 2.44788 0 4.3335 0H9.66683C11.5524 0 12.4953 0 13.081 0.585786C13.6668 1.17157 13.6668 2.11438 13.6668 4V8C13.6668 9.88562 13.6668 10.8284 13.081 11.4142C12.4953 12 11.5524 12 9.66683 12H4.3335C2.44788 12 1.50507 12 0.919283 11.4142C0.333496 10.8284 0.333496 9.88562 0.333496 8V6V4ZM8.27904 5.90797L8.27904 5.90797C8.07113 6.11018 7.89296 6.28345 7.76668 6.51333C7.70002 6.63333 7.66002 6.72667 7.64002 6.93333C7.60668 7.23333 7.34002 7.45333 7.04002 7.45333H7.00002C6.65335 7.45333 6.38002 7.16 6.41335 6.81333C6.43335 6.58667 6.48668 6.35333 6.61335 6.12667C6.79416 5.80563 7.06484 5.55608 7.33156 5.31019C7.54671 5.11184 7.75928 4.91587 7.92002 4.68667C8.30002 4.14667 8.08668 3.13333 7.00668 3.13333C6.53335 3.13333 6.22002 3.37333 6.02668 3.66C5.86002 3.9 5.56668 4.01333 5.29335 3.9C4.94002 3.76 4.81335 3.33333 5.02668 3.02667C5.43335 2.43333 6.11335 2 6.99335 2C7.98002 2 8.65335 2.44667 9.00002 3.01333C9.29335 3.49333 9.46669 4.39333 9.01335 5.06667C8.75276 5.44727 8.49923 5.69384 8.27905 5.90797L8.27904 5.90797ZM7.00668 10C6.54002 10 6.16668 9.62667 6.16668 9.16C6.16668 8.68667 6.54002 8.32667 7.00668 8.32667C7.48002 8.32667 7.84002 8.68667 7.84002 9.16C7.83335 9.62 7.48002 10 7.00668 10Z" fill="#B8B8B8"></path></svg> <!----></div> <div class="stat-value-suggestion">1.0K</div></span><span title="Tá»•ng sá»‘ luá»£t thi: 4566" class="stats-item-suggestion text-muted d-flex mr-2"><div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <svg fill="#B8B8B8" height="16" width="16" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 204 204" xml:space="preserve"><path d="M139.185,157.339h25.175l-27.223,29.022v-26.974C137.137,158.257,138.056,157.339,139.185,157.339z M108.805,44.654
        l7.761-1.004l-4.845-6.953L108.805,44.654z M179.518,5v142.339h-40.333c-6.644,0-12.048,5.405-12.048,12.048V204H29.482
        c-2.762,0-5-2.239-5-5V5c0-2.761,2.238-5,5-5h145.035C177.279,0,179.518,2.239,179.518,5z M95.746,65.76
        c0.568,0.208,1.148,0.307,1.721,0.307c2.038,0,3.953-1.256,4.694-3.281l2.765-7.546l18.084-2.34l4.595,6.594
        c0.973,1.395,2.526,2.142,4.106,2.142c0.987,0,1.984-0.292,2.854-0.898c2.266-1.579,2.822-4.695,1.244-6.96l-21.377-30.677
        c-0.008-0.011-0.019-0.02-0.027-0.031c-0.138-0.196-0.303-0.372-0.47-0.547c-0.061-0.064-0.113-0.141-0.177-0.201
        c-0.132-0.124-0.286-0.226-0.432-0.336c-0.117-0.088-0.225-0.189-0.348-0.266c-0.094-0.059-0.202-0.098-0.301-0.151
        c-0.193-0.103-0.384-0.209-0.588-0.285c-0.014-0.005-0.025-0.014-0.039-0.019c-0.117-0.043-0.237-0.057-0.354-0.091
        c-0.183-0.052-0.364-0.11-0.552-0.141c-0.166-0.028-0.33-0.03-0.496-0.04c-0.157-0.01-0.313-0.028-0.471-0.024
        c-0.169,0.005-0.333,0.034-0.5,0.056c-0.155,0.02-0.31,0.033-0.464,0.068c-0.166,0.038-0.324,0.099-0.486,0.154
        c-0.145,0.049-0.292,0.089-0.434,0.153c-0.192,0.086-0.369,0.197-0.549,0.306c-0.09,0.055-0.185,0.091-0.273,0.152
        c-0.01,0.007-0.018,0.017-0.028,0.024c-0.201,0.142-0.382,0.31-0.561,0.481c-0.061,0.058-0.132,0.107-0.19,0.167
        c-0.121,0.128-0.219,0.278-0.326,0.419c-0.092,0.121-0.197,0.234-0.276,0.362c-0.052,0.083-0.086,0.18-0.134,0.267
        c-0.111,0.205-0.222,0.409-0.303,0.626c-0.005,0.013-0.013,0.023-0.017,0.036L92.772,59.345
        C91.822,61.938,93.153,64.81,95.746,65.76z M108.899,152.339c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5
        h50.65C106.661,157.339,108.899,155.1,108.899,152.339z M130.157,121.839c0-2.761-2.238-5-5-5H53.25c-2.762,0-5,2.239-5,5
        c0,2.761,2.238,5,5,5h71.907C127.919,126.839,130.157,124.6,130.157,121.839z M145.75,91.339c0-2.761-2.238-5-5-5h-87.5
        c-2.762,0-5,2.239-5,5c0,2.761,2.238,5,5,5h87.5C143.512,96.339,145.75,94.1,145.75,91.339z M164.797,32.019
        c-0.354-2.737-2.852-4.672-5.601-4.317l-6.681,0.865l-0.865-6.681c-0.354-2.738-2.851-4.673-5.601-4.317
        c-2.738,0.354-4.672,2.862-4.317,5.6l0.865,6.681l-6.681,0.865c-2.738,0.354-4.672,2.861-4.317,5.6
        c0.326,2.521,2.477,4.359,4.953,4.359c0.213,0,0.43-0.014,0.648-0.042l6.681-0.865l0.865,6.681c0.326,2.521,2.477,4.359,4.953,4.359
        c0.213,0,0.43-0.014,0.647-0.042c2.738-0.354,4.672-2.862,4.317-5.6l-0.865-6.681l6.681-0.865
        C163.218,37.265,165.151,34.758,164.797,32.019z"></path></svg></div> <div class="stat-value-suggestion">4.5K</div></span></div></div></div></div></div></div></div> </div><div class="swiper-pagination"></div></div></div></div></div></div></div></div> <!----><!----><!----><!----><!----></div></div> <footer id="footer" class="footer bg-dark"><div class="container pt-2"><div class="row"><div class="mb-1 mb-md-0 col-md-4"><h4 class="footer__header">
                    TÃ i nguyÃªn
                </h4> <ul class="list-unstyled footer__links resources"><li><a href="/" class="link active">
                            BÃ i viáº¿t
                        </a></li> <li><a href="/organizations" class="link">
                            Tá»• chá»©c
                        </a></li> <li><a href="/questions" class="link">
                            CÃ¢u há»i
                        </a></li> <li><a href="/tags" class="link">
                            Tags
                        </a></li> <li><a href="/videos" class="link">
                            Videos
                        </a></li> <li><a href="/authors" class="link">
                            TÃ¡c giáº£
                        </a></li> <li><a href="/discussion" class="link">
                            Tháº£o luáº­n
                        </a></li> <li><a href="/explore" class="link">
                            Äá» xuáº¥t há»‡ thá»‘ng
                        </a></li> <li><a href="https://about.viblo.asia/tools/" target="_blank" rel="noopener" class="link">CÃ´ng cá»¥</a></li> <li><a href="https://machine-learning.viblo.asia" target="_blank" rel="noopener" class="link">Machine Learning</a></li> <li><a href="https://status.viblo.asia" target="_blank" rel="noopener" class="link">Tráº¡ng thÃ¡i há»‡ thá»‘ng</a></li></ul></div> <div class="mb-1 mb-md-0 col-md-3 offset-xl-1"><h4 class="footer__header">
                    Dá»‹ch vá»¥
                </h4> <ul class="list-unstyled footer__links service-badges"><div class="row"><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://viblo.asia" target="_blank" rel="noopener" class="link"><img src="/favicon.ico" alt="Viblo" width="24" height="24" class="link-icon">
                                    Viblo
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://code.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-code.png" alt="Viblo Code" width="24" height="24" class="link-icon">
                                    Viblo Code
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://ctf.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-ctf.png" alt="Viblo CTF" width="24" height="24" class="link-icon">
                                    Viblo CTF
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://cv.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-cv.png" alt="Viblo CV" width="24" height="24" class="link-icon">
                                    Viblo CV
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://learn.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-learn.png" alt="Viblo Learning" width="24" height="24" class="link-icon">
                                    Viblo Learning
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://partner.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-partner.png" alt="Viblo Partner" width="24" height="24" class="link-icon">
                                    Viblo Partner
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://battle.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-battle.png" alt="Viblo Battle" width="24" height="24" class="link-icon">
                                    Viblo Battle
                                </a></li></div><div class="col-xs-12 col-sm-3 col-md-12 col-lg-12 col-xl-12"><li class="footer__links__external-link"><a href="https://interview.viblo.asia" target="_blank" rel="noopener" class="link"><img src="/images/viblo-interview.ico" alt="Viblo Interview" width="24" height="24" class="link-icon">
                                    Viblo Interview
                                </a></li></div></div></ul></div> <div class="mb-1 mb-md-0 col-md-3 offset-md-1"><div class="d-flex align-items-baseline"><h4 class="footer__header mr-1">
                        á»¨ng dá»¥ng di Ä‘á»™ng
                    </h4></div> <div class="d-flex mobile-app-badges mb-05"><div class="d-flex flex-md-column justify-content-between flex-wrap"><a href="https://play.google.com/store/apps/details?id=com.framgia.viblo.android.prod" target="_blank" rel="noopener" class="d-block"><img alt="Get it on Google Play" src="https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png" width="646" height="250" class="play-store-badge"></a> <a href="https://itunes.apple.com/us/app/viblo/id1365286437" target="_blank" rel="noopener" class="d-block"><img alt="Download on the App Store" src="/_nuxt/img/app-store-badge.8c4986ee4828b47d16f5cd694ef065f2.svg" width="646" height="250" class="app-store-badge"></a></div> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB8CAIAAAAkfEPpAAACEklEQVR42u3aUY6DMAwFQO5/6e4JKhXF7yUL488KBZhEcm1zfUQ9LgTQoYsC+hWIb+t/faCb19x9hp9Q0g7QoUOHXkZfShRDL/wLxMp9p9a5vT506NChb0RPJ8yVNaeSc9MBOnTo0N+CvgKdKI6gQ4cOHfoMysrzJBpz0KFDh/4E9EQimmqcJYqmR3UZoUOHDn1jgjrt98d+DQAdOvTHozcjsZGJxlzk3aFDhw69jN5Mqol10odjrDiCDh069DL6yjXpYfTUvarFIHTo0KEX0KcGAlMD6MSgIz0Qv10cQYcOHXoBfaphlG5UNRPs2AGFDh069I3oTaxE46xZfI19DQAdOnTog+iJwmQlwSaKo+ahgQ4dOvTT0acKimaynTpMS4cAOnTo0AvozRdrbmT6cNz+EwEdOnToG9F3DSjSSb45DIEOHTr0NnpiEJwoRtKIiaEKdOjQoZ+Inn7QxMZMDVjGng06dOjQD0FPFDVTiTqNODU0hw4dOvRT0CMNoOKHPitF1timQocOHXoBPR1TELuG6ZGGF3To0KEXvk+fiubQ+YRCb+nfC3To0KGH0BMJMz3QmDociQIQOnTo0E9BTyfM9NAg0fBa2jzo0KFDfxj6rmsSGwkdOnTob0dPI6Ybdo8qjqBDh/4q9PRgYaqQSQ/QoUOHDv2/oqcbQFPJNp14E4cJOnTo0BvoohPQoUMXofgD+J8kMHoXlkcAAAAASUVORK5CYII=" width="124" height="124" alt="QR code" class="qr hidden-md-down"></div> <h4 class="footer__header">
                    LiÃªn káº¿t
                </h4> <ul class="list-unstyled footer__social-links"><li class="footer__socail-links__external-link"><a href="https://www.facebook.com/viblo.asia/" target="_blank" rel="noopener" class="link"><i class="fa fa-facebook link-icon"></i></a></li> <li class="footer__socail-links__external-link"><a href="https://github.com/viblo-asia/" target="_blank" rel="noopener" class="link"><i class="fa fa-github link-icon"></i></a></li> <li class="footer__socail-links__external-link"><a href="https://chrome.google.com/webstore/detail/viblos-news-feed/mliahmjgdpkkicelofhbhgiidgljijmj" target="_blank" rel="noopener" class="link"><i class="fa fa-chrome link-icon"></i></a></li> <li class="footer__socail-links__external-link"><a href="https://atom.io/packages/viblo" target="_blank" rel="noopener" class="link"><img src="/images/atom-editor.svg" alt="Atom Icon" width="24" height="24" class="link-icon"></a></li></ul></div></div> <hr class="footer__divider"> <div class="row py-1"><div class="col-xs-12 col-sm-4 col-lg-5 col-xl-6"><p class="copyright">
                    Â© 2024
                    <b>Viblo</b>. All rights reserved.
                </p></div> <div class="col-xs-12 col-sm-8 col-lg-7 col-xl-6"><ul class="list-unstyled d-flex justify-content-between flex-wrap"><li class="mb-05"><a href="https://about.viblo.asia/" target="_blank" rel="noopener" class="link">Vá» chÃºng tÃ´i</a></li> <li id="v-step-4" class="mb-05 mx-05"><a href="/feedback" class="link">Pháº£n há»“i</a></li> <li class="mb-05 mx-05"><a href="/helps" class="link">
                            GiÃºp Ä‘á»¡
                        </a></li> <li class="mb-05 mx-05"><a href="/faq" class="link">
                            FAQs
                        </a></li> <li class="mb-05 mx-05"><a href="/rss-channels" class="link">
                            RSS
                        </a></li> <li class="mb-05 mx-05"><a href="/terms/vi_term" class="link">
                            Äiá»u khoáº£n
                        </a></li> <li class="mb-05 mx-05"><a href="//www.dmca.com/Protection/Status.aspx?ID=41818fcd-5a60-4504-867a-38fde606354e" title="DMCA.com Protection Status" target="_blank" rel="noopener" class="link dmca-badge"><img src="https://images.dmca.com/Badges/dmca-badge-w100-5x1-07.png?ID=41818fcd-5a60-4504-867a-38fde606354e" alt="DMCA.com Protection Status" width="100" height="20"></a> <script src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js"></script></li></ul></div></div></div> <!----></footer> <!----> <!----> <a id="top-btn" href="javascript:void(0);" class="hidden-sm-down"><i aria-hidden="true" class="fa fa-arrow-up"></i></a> <!----> <div class="fixed-bottom-bar fixedBottombar"><div class="wrapper d-flex"><div class="logo-bottom"><img src="/favicon-white-128.png" alt="Viblo"></div> <div class="content d-flex flex-column"><div class="text"><span class="text-register">
                    HÃ£y Ä‘Äƒng kÃ½ má»™t tÃ i khoáº£n Viblo Ä‘á»ƒ nháº­n Ä‘Æ°á»£c nhiá»u bÃ i viáº¿t thÃº vá»‹ hÆ¡n.
                </span></div> <div class="button d-flex mt-1"><button class="login-button">
                    ÄÄƒng nháº­p
                </button> <a href="https://accounts.viblo.asia/register" class="register-button">
                    ÄÄƒng kÃ­
                </a></div></div> <div class="icon-close" style="cursor:pointer"><i class="icon fa fa-close"></i></div></div></div></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){return {layout:h,data:[{}],fetch:{"0":{swiperOption:{slidesPerView:j,spaceBetween:10,slidesPerGroup:j,loopFillGroupWithBlank:d,loop:d,autoplay:{delay:3000,disableOnInteraction:b},pagination:{el:".swiper-pagination",clickable:d}},swiper:a}},error:a,state:{announcements:{indicator:c,items:[],processing:b,pinnedItem:[],post:{},related:[]},auth:{user:a,roles:a,lastSeens:a,guest:d,showAuthDialog:b,showLetRegister:d,reminderLogin:b,avtUser:t,is_partner:a},badges:{items:{}},bookmarks:{bookmarks:a,pagination:a,type:"posts"},commentsList:{comments:{},pagination:{}},conditionCreateOrganization:{conditionReputations:u},config:{analytics_track_id:"G-HF9XE2NDGV",banners:[{active:d,image:"https:\u002F\u002Fimages.viblo.asia\u002Ffull\u002Fba0990e8-993a-41cd-96c5-db6b9c9dd7c2.png",name:"May Fest 2024",link:"https:\u002F\u002Fmayfest.viblo.asia\u002F?utm_source=Viblo&utm_medium=banner&utm_campaign=May-Fest-2024",background_color:"#240553",scheduled_un_active_at:"2024-05-31 23:59:59",scheduled_active_at:"2024-04-23 17:13:43"}],currentBannerIndex:c,motd:[{text:"\u003E\u003E Tham gia Facebook group \"Viblo Community\" Ä‘á»ƒ cÃ¹ng nhau há»c táº­p vÃ  káº¿t ná»‘i \u003C\u003C",link:"https:\u002F\u002Ffacebook.com\u002Fgroups\u002Fviblo.community.official"}],currentMotdIndex:a,currentBgIndex:a,logo:[],currentLogoIndex:c,vars:{search_host:"https:\u002F\u002Fviblo.asia\u002Fv2",special_organizations:["sun-ai","sun-cyber","devsuccess101","sun-rnd-devops"],special_profiles:["algorithm","security","announcer","ai","fundamentals","engineering","namanh11611"],cname_organizations:["blog.sun-asterisk.ai"],cname_profiles:[],is_special_organization:a,is_special_profile:a}},hovercard:{all:{}},log:{searchLog:a,CTRLogs:[],clickedLog:a},mayFestTime:{startTime:"2024-05-01T00:00:00+07:00",endTime:"2024-05-31T23:59:59+07:00",active:d,happening:b,link_annc:"https:\u002F\u002Fviblo.asia\u002Fannouncements\u002Fchinh-thuc-cong-bo-toan-bo-the-le-su-kien-may-fest-2024-01052024-31052024-W13VMo1dJY7",tag_event:"MayFest2024"},notifications:{data:[],batch:c,lastBatch:j,unread:c,loadNoti:d},oneTap:{isDisplayed:b,isSkipped:b},organizationsUser:{organizations:[]},pageHistory:{current:{path:k,hash:g,params:{post:"build-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9"},fullPath:k},previous:a},postHomeFeed:{byId:{},all:[],pagination:a,sidebar:{users:[],questions:[],organizations:[],organizationPartners:[],userPartners:[],suggestionChallenges:[],suggestionCourses:[],suggestionPuzzles:[]},postOrgLevelDiamond:a,postOrgLevelGold:a,postOrgLevelSilver:a},postView:{post:{id:v,slug:w,transliterated:x,user_id:l,contents:"Hello cÃ¡c báº¡n láº¡i lÃ  mÃ¬nh Ä‘Ã¢y ğŸ‘‹ğŸ‘‹\n\nNhÃ¢n má»™t ngÃ y mÃ  nhÃ¬n vÃ o list cÃ¡c bÃ i muá»‘n viáº¿t mÃ  mÃ¬nh Ä‘Ã£ lÃªn Ã½ tÆ°á»Ÿng tá»« lÃ¢u tháº¥y cÃ³ ráº¥t nhiá»u thá»© muá»‘n chia sáº», vÃ  cÅ©ng tranh thá»§ tuáº§n nÃ y ráº£nh váº­y lÃ  láº¡i ngá»©a ngÃ¡y muá»‘n viáº¿t liá»n ğŸ˜\n\nHÃ´m nay chÃºng ta sáº½ cÃ¹ng xem cÃ¡ch Ä‘á»ƒ cÃ³ thá»ƒ cáº¥u hÃ¬nh dynamic env cho app frontend vá»›i Docker vÃ  bÃ i toÃ¡n thá»±c táº¿ nhÃ© ;)\n\nLÃªn thuyá»n thÃ´i nhá»¯ng ngÆ°á»i anh em thiá»‡n lÃ nh Æ¡i ğŸš€ğŸš€\n\n# VÃ i dÃ²ng vá» Frontend\n## Tá»•ng quan\nCÃ³ thá»ƒ cÃ¡c báº¡n Ä‘Ã£ biáº¿t (hoáº·c chÆ°a biáº¿t ğŸ˜‚) thÃ¬ háº§u háº¿t cÃ¡c app frontend (FE) hiá»‡n táº¡i (2024) Ä‘á»u dÃ¹ng nhá»¯ng library\u002Fframework nhÆ° Vue\u002FReact\u002FAngular,... bá»Ÿi vÃ¬ chÃºng giÃºp viá»‡c build frontend ráº¥t nhanh, UX tá»‘t, khÃ´ng pháº£i load láº¡i trang, logics JS Ä‘Æ°á»£c bind trá»±c tiáº¿p lÃªn UI, logics thay Ä‘á»•i UI tá»± update,...\n\nVÃ  cÃ²n vÃ´ vÃ n nhá»¯ng thá»© khÃ¡c ná»¯a, nÃ³i chung mÃ¬nh tháº¥y tech phÃ­a FE phÃ¡t triá»ƒn vá»›i tá»‘c Ä‘á»™ khÃ¡ khá»§ng khiáº¿p vÃ  nÃ³ cÃ³ máº·t á»Ÿ má»i nÆ¡i, tá»« web Ä‘áº¿n native (mobile), desktop.\n\nVÃ  gÃ³p pháº§n vÃ o sá»± phÃ¡t triá»ƒn Ä‘Ã³ thÃ¬ khÃ´ng thá»ƒ thiáº¿u Ä‘Æ°á»£c má»™t pháº§n ráº¥t quan trá»ng vÃ o sá»± phÃ¡t triá»ƒn cá»§a FE Ä‘Ã³ lÃ  sá»± ra Ä‘á»i cá»§a vÃ´ vÃ n bundler (Webpack, Parcel, Vite, Rollup, Rolldown,...) cÃ¡i sau ra tá»‘c Ä‘á»™ láº¡i bÃ n thá» hÆ¡n cáº£ cÃ¡i trÆ°á»›c ğŸ˜ğŸ˜\n\nKhÃ´ng nhÆ° backend, FE (modern FE) háº§u háº¿t cáº§n pháº£i Ä‘Æ°á»£c bundle thÃ¬ má»›i cháº¡y production Ä‘Æ°á»£c, quÃ¡ trÃ¬nh nÃ y vá» cÆ¡ báº£n lÃ  bundler sáº½ láº¥y táº¥t cáº£ source code, assets (image, css, html,...) vÃ  táº¡o ra cÃ¡c file bundle tá»‘i Æ°u (HTML, CSS, JS). QuÃ¡ trÃ¬nh thÃ¬ mÃ´ táº£ cÆ¡ báº£n nhÆ° sau (mÃ¬nh láº¥y trÃªn trang chá»§ webpack):\n\n![Screenshot 2024-04-27 at 11.29.58â€¯PM.png](https:\u002F\u002Fimages.viblo.asia\u002F23482c65-917c-4028-8e33-e8e9fc87451f.png)\n\nVÃ  cÃ³ má»™t Ä‘iá»u ráº¥t quan trá»ng ta cáº§n chÃº Ã½ Ä‘Ã³ lÃ , sau khi bundle thÃ¬ ta nháº­n Ä‘Æ°á»£c cÃ¡c file lÃ  static, tá»©c lÃ  ná»™i dung khÃ´ng (nÃªn) Ä‘Æ°á»£c thay Ä‘á»•i ná»¯a.\n\nVÃ  1 thá»© Ä‘Ã³ lÃ  biáº¿n mÃ´i trÆ°á»ng (ENV) thÃ¬ sáº½ Ä‘Æ°á»£c bundler thay tháº¿ ngay táº¡i thá»i Ä‘iá»ƒm build báº±ng giÃ¡ trá»‹ thá»±c trÆ°á»›c khi sinh ra cÃ¡c file static.\n\n## Váº¥n Ä‘á» cá»§a FE\nBá»Ÿi vÃ¬ nhÆ° váº­y nÃªn khÃ´ng nhÆ° backend, á»Ÿ cÃ¡c mÃ´i trÆ°á»ng khÃ¡c nhau (dev, staging, production...) ta chá»‰ cáº§n cÃ³ file `.env` vÃ  Ä‘á»ƒ háº¿t cÃ¡c biáº¿n thay Ä‘á»•i theo mÃ´it rÆ°á»ng á»Ÿ Ä‘Ã³. ThÃ¬ vá»›i frontend sau khi build lÃ  má»i thá»© Ä‘Ã£ Ä‘Æ°á»£c \"hardcode\" static á»Ÿ Ä‘Ã³ rá»“i.\n\nVáº­y nhÆ°ng hiá»‡n nay á»Ÿ ráº¥t nhiá»u cÃ´ng ty, vÃ  cáº£ cÃ´ng ty cÅ© cá»§a mÃ¬nh thÃ¬ trong deployment workflow cá»§a há» follow theo style `Build once, run everywhere`: tá»©c lÃ  ta chá»‰ Ä‘Æ°á»£c build app 1 láº§n vÃ  deploy ra cÃ¡c mÃ´i trÆ°á»ng khÃ¡c nhau. Äiá»u nÃ y cÃ³ nhá»¯ng máº·t tá»‘t nhÆ° sau:\n- Äáº£m báº£o cháº¯c cháº¯n ráº±ng táº¡i má»i mÃ´i trÆ°á»ng ta cÃ¹ng cÃ³ 1 báº£n build y há»‡t nhÆ° nhau\n- VÃ¬ code FE (Ä‘Ã´i khi) cÃ³ thá»ƒ bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi mÃ´i trÆ°á»ng, build cho dev ok xong build staging thÃ¬ lá»—i,...\n- KhÃ´ng rebuild khi ra mÃ´i trÆ°á»ng khÃ¡c, vÃ¬ vÃ­ dá»¥ build cho staging xong gá»i QA vÃ o test ok, xong ra production build láº¡i dÃ¹ng command khÃ¡c láº¡i build vá»›i 1 source code khÃ¡c ğŸ˜‚ğŸ˜‚\n- ...\n\nCÃ¡i `Build once, run everywhere` kia vá»›i backend thÃ¬ ráº¥t dá»…, vÃ¬ xÆ°a nay nÃ³ váº«n dá»… nhÆ° váº­y rá»“i ğŸ˜, thay biáº¿n mÃ´i trÆ°á»ng Ä‘i lÃ  xong. NhÆ°ng vá»›i frontend thÃ¬ láº¡i khÃ´ng há» dá»… nhÆ° váº­y. Bá»Ÿi vÃ¬ frontend nÃ³ cáº§n pháº£i build, vÃ  nÃ³ sáº½ Ä‘Æ°á»£c build ra cÃ¡c file static, vÃ  code static Ä‘Ã³ sáº½ Ä‘Æ°á»£c gá»­i tá»›i user khi client truy cáº­p trang web, váº­y nÃªn vá» máº·t kÄ© thuáº­t **vá»›i mÃ¬nh** thÃ¬ vá»›i frontend khÃ´ng cÃ³ khÃ¡i niá»‡m \"biáº¿n mÃ´i trÆ°á»ng\"\n\n\u003E vÃ¬ má»—i láº§n code frontend cháº¡y trÃªn trÃ¬nh duyá»‡t cá»§a 1 user mÃ , váº­y thÃ¬ \"mÃ´i trÆ°á»ng\" á»Ÿ Ä‘Ã¢y lÃ  mÃ´i trÆ°á»ng nÃ o ğŸ˜…\n\n\u003E Cáº§n chÃº Ã½ tháº­t kÄ©, khi dev á»Ÿ local thÃ¬ cháº¡y trÃªn mÃ¡y cá»§a báº¡n nÃªn báº¡n sá»­a ENV sáº½ tháº¥y nÃ³ Äƒn ngay nhÆ°ng khi deploy production thÃ¬ khÃ´ng váº­y Ä‘Ã¢u nhÃ© ğŸ˜‚\n\nDo váº­y vá»›i frontend thÆ°á»ng khi cáº§n dÃ¹ng tá»›i biáº¿n mÃ´i trÆ°á»ng ta sáº½ cáº§n táº¡o nhiá»u file env nhÆ° sau:\n\n![Screenshot 2024-04-27 at 11.50.58â€¯PM.png](https:\u002F\u002Fimages.viblo.asia\u002Fbf123db7-e58b-408b-b8bd-e44a37133469.png)\n\nVÃ  cÃ³ má»™t Ä‘iá»u lÆ°u Ã½ lÃ  cÃ¡c file .env kia Ä‘Æ°á»£c hardcode tháº³ng vÃ o project vÃ  commit lÃªn git (trá»« `.env.local`). Náº¿u khÃ´ng thÃ¬ cÅ©ng pháº£i hardcode vÃ o CICD pipeline Ä‘á»ƒ \"inject\" vÃ o quÃ¡ trÃ¬nh build. Má»™t láº§n ná»¯a mÃ¬nh pháº£i note láº¡i: Ä‘Ã³ lÃ  biáº¿n mÃ´i trÆ°á»ng vá»›i FE nÃ³ chá»‰ cÃ³ tÃ¡c dá»¥ng táº¡i thá»i Ä‘iá»ƒm build\n\nVáº­y cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ ta cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u tÆ°Æ¡ng tá»± nhÆ° backend hay khÃ´ng? Tá»©c lÃ  build 1 láº§n vÃ  tá»›i mÃ´i trÆ°á»ng nÃ o thÃ¬ ta dÃ¹ng 1 file `.env` thÃ´i lÃ  Ä‘Æ°á»£c khÃ´ng? ğŸ§ğŸ§\n## Giáº£i phÃ¡p hiá»‡n táº¡i\nTa cÃ¹ng Ä‘iá»ƒm qua má»™t sá»‘ giáº£i phÃ¡p phá»• biáº¿n hiá»‡n táº¡i nhÃ©:\n\n*CÃ¡ch 1*: CÃ¡ch phá»• biáº¿n nháº¥t cháº¯c váº¥n lÃ  Ä‘áº·t cÃ¡c cÃ¡c file `.env` (`.env.production, .env.development`) nhÆ° mÃ¬nh nÃ³i bÃªn trÃªn trá»±c tiáº¿p vÃ o source code vÃ  á»Ÿ file `package.json` khi cáº§n build cho mÃ´i trÆ°á»ng nÃ o thÃ¬ ta dÃ¹ng command dÃ nh cho mÃ´i trÆ°á»ng Ä‘Ã³, nÃ³ sáº½ select file `.env` tÆ°Æ¡ng á»©ng, vÃ­ dá»¥:\n```json\n\"scripts\": {\n    \"build\": \"yarn build\",\n    \"build:staging\": \"env-cmd -f .env.staging yarn build\",\n    \"build:production\": \"env-cmd -f .env.production yarn build\"\n}\n```\nNhÆ°á»£c Ä‘iá»ƒm cá»§a cÃ¡ch nÃ y thÃ¬ ta tháº¥y rÃµ lÃ  cáº§n pháº£i rebuild cho tá»«ng mÃ´i trÆ°á»ng.\n\nHÆ¡n ná»¯a cÃ¡ch nÃ y ta pháº£i Ä‘á»ƒ cÃ¡c file env trá»±c tiáº¿p vÃ o Git, hoáº·c khÃ´ng thÃ¬ cÅ©ng pháº£i lÆ°u trÃªn CICD Ä‘á»ƒ láº¥y ra lÃºc build.\n\nVÃ  1 cÃ¡i ná»¯a nhÆ° mÃ¬nh Ä‘Ã£ nÃ³i á»Ÿ trÆ°á»›c, staging QA test oke rá»“i, nhÆ°ng khi ra production pháº£i build láº¡i vá»›i command khÃ¡c, tháº¿ nhá»¡ command Ä‘Ã³ láº¡i build vá»›i source code khÃ¡c thÃ¬ sao? ğŸ˜…\n\n*CÃ¡ch 2*: Gá»i API khi app vá»«a load lÃªn Ä‘á»ƒ láº¥y cÃ¡c config cáº§n thiáº¿t\n\nVá»›i cÃ¡ch nÃ y thÃ¬ Ä‘Ãºng lÃ  ta cÃ³ thá»ƒ lÃ m dynamic env, vÃ¬ env giá» Ä‘áº©y qua cho backend rá»“i cÃ²n Ä‘Ã¢u ğŸ˜‚. VÃ  vá»›i cÃ¡ch nÃ y thÃ¬ ta sáº½ cáº§n 1 network call, náº¿u network cháº­m thÃ¬ áº£nh hÆ°á»Ÿng tá»›i toÃ n bá»™ app cá»§a chÃºng ta, user lÃ  ngÆ°á»i trá»±c tiáº¿p chá»‹u áº£nh hÆ°á»Ÿng ğŸ˜œ\n\n\u003E VÃ  Ä‘Æ°Æ¡ng nhiÃªn vá»›i cÃ¡ch nÃ y ta cáº§n phá»¥ thuá»™c vÃ o backend\n\n\u003E CÃ¡ch nÃ y nÃ³ cÅ©ng gá»i lÃ  \"Remote Config\" nhÆ° má»i ngÆ°á»i váº«n gá»i (vÃ­ dá»¥ Firebase Remote Config)\n\n*CÃ¡ch 3*: khÃ´ng dÃ¹ng env, Ä‘áº·t tháº³ng vÃ o code\n\n```js\nlet backendURL = ''\n\nif (location.hostname.includes('production.com')) {\n  backendURL = 'api-prod.com'\n} else if (location.hostname.includes('staging.com')) {\n  backendURL = 'api-staging.com'\n} else {\n  backendURL = 'api-dev.com'\n}\n```\ná» trÃªn ta dá»±a vÃ o domain hiá»‡n táº¡i mÃ  frontend cháº¡y lÃ  gÃ¬ vÃ  tá»« Ä‘Ã³ chá»n ra backend tÆ°Æ¡ng á»©ng. Vá»›i cÃ¡ch nÃ y thÃ¬ Æ°u Ä‘iá»ƒm lÃ  khÃ´ng cáº§n ENV gÃ¬ ná»¯a.\n\nNhÆ°ng nhÆ°á»£c Ä‘iá»ƒm cá»±c lá»›n Ä‘Ã³ lÃ  nÃ³ lÃ m frontend phá»¥ thuá»™c hoÃ n toÃ n vÃ o domain, mÃ  Ä‘Ã¡ng ra, FE \"tá»‘t\" thÃ¬ khÃ´ng quan trá»ng nÃ³ Ä‘Æ°á»£c deploy á»Ÿ domain nÃ o, má»i API call Ä‘á»u chá»‰ dÃ¹ng Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i thÃ´i, vÃ­ dá»¥ `\u002Fapi\u002Forders`, pháº§n domain sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng tÃ­nh toÃ¡n dá»±a vÃ o domain hiá»‡n táº¡i mÃ  FE Ä‘Æ°á»£c deploy\n\nBá»Ÿi vÃ¬ vá»›i Ä‘oáº¡n code bÃªn trÃªn, giáº£ sá»­ ta Ä‘á»•i domain cá»§a FE Ä‘i thÃ nh `example.com`, giá» cháº£ cÃ³ `dev, staging hay production` gÃ¬ Ä‘á»ƒ mÃ  `if\u002Felse` ná»¯a cáº£ ğŸ˜‚\n\nHmmmm, váº­y giá» cÃ³ cÃ¡ch nÃ o lÃ m Ä‘Æ°á»£c nhÆ° backend khÃ´ng ta....ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”\n\nÃ‚u cÃ¢y ta cÃ¹ng xem nhÃ© ğŸ˜‰\n\n# Dynamic ENV\n## Ã tÆ°á»Ÿng\nNáº¿u cÃ¡c báº¡n Ä‘á»ƒ Ã½ thÃ¬ vá»›i frontend pháº§n code bundle sáº½ hoÃ n toÃ n do bundler chá»‹u trÃ¡ch nhiá»‡m vÃ  ráº¥t khÃ³ Ä‘á»ƒ ta cÃ³ thá»ƒ thá»c vÃ o pháº§n code Ä‘Ã³ vÃ  thÃªm logics gÃ¬ Ä‘Ã³ sau khi code Ä‘Ã£ Ä‘Æ°á»£c build thÃ nh static files\n\nNhÆ°ng má»—i FE project sáº½ luÃ´n cÃ³ 1 pháº§n Ä‘Ã³ lÃ  cÃ¡c files asset public thÃ¬ sáº½ khÃ´ng Ä‘Æ°á»£c bundle, vÃ  ta sáº½ lÆ°u thÃ´ng tin vá» ENV á»Ÿ nhá»¯ng files nhÆ° váº­y, cÃ³ 2 files ta cÃ³ thá»ƒ dÃ¹ng:\n- táº¡o 1 file JS lÆ°u ENV vÃ o `window` vÃ  import nÃ³ vÃ o file entry `index.html`\n- Ä‘áº·t tháº³ng ENV vÃ o file `index.html`\n\n2 cÃ¡ch nÃ y cÅ©ng xÃªm xÃªm nhau ta cÃ¹ng xem nhÃ©\n\n## Clone code\nNhÆ° thÆ°á»ng lá»‡ Ä‘áº§u tiÃªn ta clone source code cho bÃ i nÃ y [á»Ÿ Ä‘Ã¢y](https:\u002F\u002Fgitlab.com\u002Fmaitrungduc1410\u002Flearning-docker), nhÃ¡nh **master** vÃ  folder lÃ  `fe-dynamic-env` nhÃ© cÃ¡c báº¡n\n\nSau khi clone vá» thÃ¬ ta cháº¡y thá»­ lÃªn coi sao nha, ta cháº¡y vá»›i docker luÃ´n Ä‘á»ƒ báº¡n nÃ o khÃ´ng cÃ³ NodeJS (npm) cÅ©ng xem Ä‘Æ°á»£c luÃ´n:\n\n```\ndocker compose up -d --build\n```\n\nSau Ä‘Ã³ ta má»Ÿ trÃ¬nh duyá»‡t á»Ÿ Ä‘á»‹a chá»‰ `http:\u002F\u002Flocalhost:8080` sáº½ tháº¥y nhÆ° sau nhÃ©:\n\n![Screenshot 2024-04-28 at 10.39.26â€¯AM.png](https:\u002F\u002Fimages.viblo.asia\u002Fe40882f9-33d5-4b41-bfd1-9b1ae1a40a71.png)\n\ná» Ä‘Ã¢y mÃ¬nh Ä‘Ã£ setup cho cÃ¡c báº¡n 1 project React + Vite, build cho production báº±ng Docker vÃ  cháº¡y vá»›i nginx\n\n## MÃ³n chÃ­nh\nGiá» ta vÃ´ mÃ³n chÃ­nh cá»§a ngÃ y hÃ´m nay nha ğŸ˜‹ğŸ˜‹\n\nCÃ¡c báº¡n Ä‘á»ƒ Ã½ ta cÃ³ dÃ²ng text \"Vite + React\". Má»—i khi ta muá»‘n thay Ä‘á»•i nÃ³ thÃ¬ ta sáº½ pháº£i sá»­a code `src\u002FApp.tsx` sau Ä‘Ã³ build láº¡i `docker compose up -d --build`\n\nGiá» ta sáº½ cÃ¹ng nhau Ä‘Æ°a dÃ²ng text Ä‘Ã³ vÃ o ENV vÃ  lÃ m nÃ³ dynamic, má»—i khi sá»­a chá»‰ cáº§n restart thay vÃ¬ build lÃ  cÃ³ thá»ƒ tháº¥y update ngay nhÃ© ğŸ˜™ğŸ˜™\n\n\u003E NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn ta sáº½ Ä‘áº·t env á»Ÿ public assets, á»Ÿ bÃ i nÃ y nÃ³ sáº½ lÃ  nhá»¯ng files á»Ÿ trong folder `public` hoáº·c file `index.html` (á»Ÿ root folder project)\n\nTrÆ°á»›c háº¿t ta `down` app Ä‘i Ä‘Ã£ nhÃ©:\n```\ndocker compose down\n```\n\nÄáº§u tiÃªn trong folder `public` cÃ¡c báº¡n táº¡o cho mÃ¬nh file `env.template.js` vá»›i ná»™i dung nhÆ° sau:\n```js\nwindow.__HELLO_MESSAGE__ = \"${HELLO_MESSAGE}\"\n```\ná» trÃªn ta sáº½ táº¡o thÃªm thuá»™c tÃ­nh global `__HELLO_MESSAGE__` trong `window`, giÃ¡ trá»‹ thÃ¬ báº±ng 1 cÃ¡i string vá»›i placeholder lÃ  biáº¿n mÃ´i trÆ°á»ng mÃ  tÃ­ ná»¯a ta sáº½ truyá»n vÃ o `${HELLO_MESSAGE}`\n\n\u003E biáº¿n global thÃ¬ kiá»ƒu convention lÃ  thÆ°á»ng ta trÃ¡nh viá»‡c trÃ¹ng láº·p nÃªn ngÆ°á»i ta hay thÃªm nhá»¯ng dáº¡ng tiá»n\u002Fháº­u tá»‘ nhÆ° `__` ğŸ˜‰\n\nSau Ä‘Ã³ ta táº¡o file `env.js`vá»›i ná»™i dung nhÆ° sau:\n```js\nwindow.__HELLO_MESSAGE__ = \"Default text\"\n```\n\nLÃ­ do lÃ  tÃ­ ná»¯a ta sáº½ inject ENV vÃ o file `env.template.js`, sau Ä‘Ã³ xuáº¥t content ra file `env.js`. Trong trÆ°á»ng há»£p ta khÃ´ng inject Ä‘Æ°á»£c env vÃ o `env.template.js` thÃ¬ á»Ÿ `env.js` ta cÃ³ sáºµn fallback message Ä‘á»ƒ váº«n cÃ³ thá»ƒ hiá»ƒn thá»‹ ra cho user\n\nTiáº¿p theo ta má»Ÿ `index.html` vÃ  import file `env.js` kia vÃ o:\n```html\n\u003C!doctype html\u003E\n\u003Chtml lang=\"en\"\u003E\n  \u003Chead\u003E\n    \u003Cmeta charset=\"UTF-8\" \u002F\u003E\n    \u003Clink rel=\"icon\" type=\"image\u002Fsvg+xml\" href=\"\u002Fvite.svg\" \u002F\u003E\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" \u002F\u003E\n    \u003Ctitle\u003EVite + React + TS\u003C\u002Ftitle\u003E\n\n    \u003C!-- =====á» ÄÃ¢y===== --\u003E\n    \u003Cscript src=\"\u002Fenv.js\"\u003E\u003C\u002Fscript\u003E\n\n  \u003C\u002Fhead\u003E\n  \u003Cbody\u003E\n    \u003Cdiv id=\"root\"\u003E\u003C\u002Fdiv\u003E\n    \u003Cscript type=\"module\" src=\"\u002Fsrc\u002Fmain.tsx\"\u003E\u003C\u002Fscript\u003E\n  \u003C\u002Fbody\u003E\n\u003C\u002Fhtml\u003E\n```\nTiáº¿p theo lÃ  á»Ÿ trong code ta sáº½ truy cáº­p tá»›i biáº¿n global kia nhÆ° sau:\n```tsx\nimport { useState } from 'react'\nimport reactLogo from '.\u002Fassets\u002Freact.svg'\nimport viteLogo from '\u002Fvite.svg'\nimport '.\u002FApp.css'\n\ndeclare global {\n  interface Window { __HELLO_MESSAGE__: string; }\n}\n\nfunction App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    \u003C\u003E\n      \u003Cdiv\u003E\n        \u003Ca href=\"https:\u002F\u002Fvitejs.dev\" target=\"_blank\"\u003E\n          \u003Cimg src={viteLogo} className=\"logo\" alt=\"Vite logo\" \u002F\u003E\n        \u003C\u002Fa\u003E\n        \u003Ca href=\"https:\u002F\u002Freact.dev\" target=\"_blank\"\u003E\n          \u003Cimg src={reactLogo} className=\"logo react\" alt=\"React logo\" \u002F\u003E\n        \u003C\u002Fa\u003E\n      \u003C\u002Fdiv\u003E\n      \u003Ch1\u003E{window.__HELLO_MESSAGE__}\u003C\u002Fh1\u003E\n      \u003Cdiv className=\"card\"\u003E\n        \u003Cbutton onClick={() =\u003E setCount((count) =\u003E count + 1)}\u003E\n          count is {count}\n        \u003C\u002Fbutton\u003E\n        \u003Cp\u003E\n          Edit \u003Ccode\u003Esrc\u002FApp.tsx\u003C\u002Fcode\u003E and save to test HMR\n        \u003C\u002Fp\u003E\n      \u003C\u002Fdiv\u003E\n      \u003Cp className=\"read-the-docs\"\u003E\n        Click on the Vite and React logos to learn more\n      \u003C\u002Fp\u003E\n    \u003C\u002F\u003E\n  )\n}\n\nexport default App\n```\n\ná» trÃªn ta cÃ³ 2 thay Ä‘á»•i:\n1. á»Ÿ Ä‘oáº¡n tháº» `\u003Ch1\u003E` ta Ä‘Ã£ thay Ä‘oáº¡n text cÅ© báº±ng code láº¥y message tá»« `window`\n2. á» Ä‘áº§u file ta cÃ³ thÃªm 1 Ä‘oáº¡n code Typescript nhá» Ä‘á»ƒ khai bÃ¡o thÃªm 1 thuá»™c tÃ­nh vÃ o global window (cÃ¡i nÃ y báº¡n nÃ o dÃ¹ng Javascript thÃ¬ khÃ´ng cáº§n)\n\nTiáº¿p lÃ  bÆ°á»›c quan trá»ng nháº¥t Ä‘Ã³ lÃ  inject env tá»« Dockfile:\n```Dockerfile\nFROM node:20-alpine as build-stage\nWORKDIR \u002Fapp\nCOPY package.json yarn.lock* .\u002F\nRUN yarn --frozen-lockfile\nCOPY . .\nRUN yarn build\n\nFROM nginx:1.25-alpine\nWORKDIR \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml\nCOPY --from=build-stage \u002Fapp\u002Fdist .\nEXPOSE 80\n# CMD [\"nginx\", \"-g\", \"daemon off;\"]\n\nCMD \u002Fbin\u002Fsh -c \"envsubst \u003C env.template.js \u003E env.js && nginx -g 'daemon off;'\"\n```\ná» trÃªn ta sá»­a duy nháº¥t dÃ²ng `CMD` cuá»‘i cÃ¹ng, ta sáº½ dÃ¹ng `envsubst`, Ä‘Ã¢y lÃ  1 CLI tool Ä‘á»c env tá»« mÃ´i trÆ°á»ng vÃ  thá»±c hiá»‡n thay tháº¿ env vÃ o file text. Sau khi inject Ä‘Æ°á»£c env thÃ¬ ta start nginx nhÆ° thÆ°á»ng.\n\nCÃ³ thá»ƒ cÃ¡c báº¡n tháº¯c máº¯c, lÃºc táº¡o file env thÃ¬ nÃ³ náº±m trong folder `public` mÃ  sao á»Ÿ `CMD` thÃ¬ láº¡i lÃ m ngay á»Ÿ root, thÃ¬ Ä‘Ã³ lÃ  do output cá»§a bundler, sau khi build thÃ¬ má»i files public nÃ³ Ä‘Æ°a háº¿t lÃªn cÃ¹ng 1 level:\n\n![Screenshot 2024-04-28 at 11.02.20â€¯AM.png](https:\u002F\u002Fimages.viblo.asia\u002F4e4c77cd-ca55-426d-8e98-e6460cfa7b72.png)\n\nVÃ  giá», trÆ°á»›c khi `up` thÃ¬ ta truyá»n biáº¿n mÃ´i trÆ°á»ng tá»« `docker-compose.yml` nhÆ° ta váº«n lÃ m vá»›i backend nha ğŸ˜‰:\n```yml\nservices:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:80\n    environment:\n      - HELLO_MESSAGE=Hello World\n```\nCuá»‘i cÃ¹ng lÃ  ta start thÃ´iiiiiiiii ğŸš€ğŸš€ğŸš€:\n```\ndocker compose up -d --build\n```\nSau Ä‘Ã³ ta má»Ÿ trÃ¬nh duyá»‡t á»Ÿ `http:\u002F\u002Flocalhost:8080` vÃ aaaaaaa pÃ²m pÃ²m chÃ­u chÃ­u ğŸ†ğŸ†:\n\n![Screenshot 2024-04-28 at 11.15.59â€¯AM.png](https:\u002F\u002Fimages.viblo.asia\u002Fd2f164ce-0cab-49ec-9cff-9299b24ab77c.png)\n\nMessage cá»§a ta Ä‘Ã£ hiá»‡n ra á»Ÿ Ä‘Ã³. Giá» má»—i khi muá»‘n thay Ä‘á»•i ta chá»‰ cáº§n sá»­a trá»±c tiáº¿p á»Ÿ `docker-compose.yml` vÃ  khÃ´ng cáº§n build láº¡i ná»¯a. Y há»‡t nhÆ° backend váº­y ğŸ˜ğŸ˜ğŸ˜\n\n# Vá»c váº¡ch\n## File env.template.js\nTa thá»­ truy cáº­p `http:\u002F\u002Flocalhost:8080\u002Fenv.js` xem cÃ³ gÃ¬ nha:\n```js\nwindow.__HELLO_MESSAGE__ = \"Hello World\"\n```\ná» trÃªn ta tháº¥y tá»« file template nÃ³ Ä‘Ã£ inject Ä‘Æ°á»£c ENV vÃ o vÃ  export ra file `env.js` nÃ y\n\nTiáº¿p theo ta truy cáº­p `http:\u002F\u002Flocalhost:8080\u002Fenv.template.js` sáº½ tháº¥y:\n```js\nwindow.__HELLO_MESSAGE__ = \"${HELLO_MESSAGE}\"\n```\n\ná» Ä‘Ã¢y ta tháº¥y ráº±ng file template nÃ y váº«n Ä‘Æ°á»£c truy cáº­p public trong khi nÃ³ khÃ´ng cÃ³ tÃ¡c dá»¥ng gÃ¬ khi cháº¡y ná»¯a (runtime), do váº­y ta cÃ³ thá»ƒ xoÃ¡ nÃ³ Ä‘i sau khi file `env.js` Ä‘Æ°á»£c export thÃ nh cÃ´ng.\n\nTa sá»­a láº¡i `Dockerfile` nhÆ° sau nhÃ©:\n```dockerfile\nFROM node:20-alpine as build-stage\nWORKDIR \u002Fapp\nCOPY package.json yarn.lock* .\u002F\nRUN yarn --frozen-lockfile\nCOPY . .\nRUN yarn build\n\nFROM nginx:1.25-alpine\nWORKDIR \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml\nCOPY --from=build-stage \u002Fapp\u002Fdist .\nEXPOSE 80\n# CMD [\"nginx\", \"-g\", \"daemon off;\"]\n\nCMD \u002Fbin\u002Fsh -c \"envsubst \u003C env.template.js \u003E env.js && rm env.template.js && nginx -g 'daemon off;'\"\n```\ná» trÃªn mÃ¬nh Ä‘Ã£ thÃªm Ä‘oáº¡n `rm env.template.js` Ä‘á»ƒ xoÃ¡ file template Ä‘i rá»“i. Ta build vÃ  restart láº¡i app nha:\n```\ndocker compose down\ndocker compose up -d --build\n```\nSau Ä‘Ã³ láº¡i truy cáº­p `http:\u002F\u002Flocalhost:8080\u002Fenv.template.js` vÃ  ta sáº½ tháº¥y:\n\n![Screenshot 2024-04-28 at 11.22.14â€¯AM.png](https:\u002F\u002Fimages.viblo.asia\u002Fc103aca1-29ac-46fb-9081-b8bd780dfb7c.png)\n\nVÃ  user sáº½ khÃ´ng thá»ƒ truy cáº­p vÃ  biáº¿t Ä‘Æ°á»£c ta cÃ³ gÃ¬ á»Ÿ file `env.template.js` ná»¯a ğŸ¤ª\n## ÄÆ°a logics vÃ o ENTRYPOINT\nNhÆ° cÃ¡c báº¡n tháº¥y hiá»‡n táº¡i logics inject ENV ta Ä‘á»ƒ á»Ÿ `CMD`, kÃ¨m vá»›i command start nginx, trÃ´ng nÃ³ khÃ¡ lÃ  xáº¥u ğŸ¤£\n\nTa sáº½ chuyá»ƒn qua dÃ¹ng `ENTRYPOINT` Ä‘Æ°a pháº§n logics vÃ o shell script trÃ´ng cho Ä‘áº¹p nhÃ©.\n\nCÃ¡c báº¡n táº¡o cho mÃ¬nh file `entrypoint.sh` á»Ÿ root folder project vá»›i ná»™i dung nhÆ° sau:\n```shell\n#!\u002Fbin\u002Fsh\n\n# Substitute environment variables in env.js\nenvsubst \u003C env.template.js \u003E env.js\n\n# Remove template file\nrm env.template.js\n\nnginx -g 'daemon off;'\n```\nSau Ä‘Ã³ á»Ÿ `Dockerfile` ta sá»­a láº¡i chÃºt:\n```dockerfile\nFROM node:20-alpine as build-stage\nWORKDIR \u002Fapp\nCOPY package.json yarn.lock* .\u002F\nRUN yarn --frozen-lockfile\nCOPY . .\nRUN yarn build\n\nFROM nginx:1.25-alpine\nWORKDIR \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml\nCOPY --from=build-stage \u002Fapp\u002Fdist .\nCOPY entrypoint.sh .\nRUN chmod +x entrypoint.sh\nEXPOSE 80\n\nENTRYPOINT [\".\u002Fentrypoint.sh\"]\n```\nLogics thÃ¬ y há»‡t cÃ¡c báº¡n tá»± tháº©m nha ğŸ˜\n\nSau Ä‘Ã³ ta rebuild láº¡i project vÃ  test thá»­ trÃªn trÃ¬nh duyá»‡t Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© váº«n oke nha:\n```\ndocker compose down\ndocker compose up -d --build\n```\n## Cache env file vá»›i HTTP caching\nNáº¿u cÃ¡c báº¡n Ä‘á»ƒ Ã½ thÃ¬ hiá»‡n táº¡i app cá»§a chÃºng ta sáº½ luÃ´n load file `env.js` Ä‘áº§u tiÃªn sau Ä‘Ã³ má»›i load Ä‘áº¿n nhá»¯ng thÃ nh pháº§n khÃ¡c. Ta khÃ´ng dÃ¹ng `async` hay `defer` mÃ  ta muá»‘n Ä‘áº£m báº£o lÃ  env pháº£i ready trÆ°á»›c thÃ¬ má»›i load app\n\n![Screenshot 2024-04-28 at 11.56.04â€¯AM.png](https:\u002F\u002Fimages.viblo.asia\u002Fc1e7cb52-5d1f-49b4-8299-9caddc585aaf.png)\n\nÄiá»u nÃ y dáº«n tá»›i má»™t váº¥n Ä‘á» cÃ³ thá»ƒ xáº£y ra: nhÆ° á»Ÿ áº£nh trÃªn ta tháº¥y ráº±ng Ä‘á»ƒ load `env.js` thÃ¬ ta cÅ©ng tá»‘n 1 network call\n\nMáº·c dÃ¹ `env.js` vÃ  code bundle frontend Ä‘áº·t chung 1 chá»—, nÃªn náº¿u FE load nhanh thÃ¬ `env.js` thÆ°á»ng load cÅ©ng sáº½ nhanh, nhÆ°ng khi cháº¡y production user nhiá»u thÃ¬ sáº½ cÃ³ thá»ƒ cÃ³ nhá»¯ng trÆ°á»ng há»£p mÃ  network báº¥t á»•n dáº«n tá»›i viá»‡c `env.js` load cháº­m hÆ¡n, dáº«n tá»›i toÃ n bá»™ app cá»§a ta load cháº­m Ä‘i\n\nÄá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y ta cÃ³ nhiá»u cÃ¡ch, á»Ÿ bÃ i nÃ y ta sáº½ dÃ¹ng HTTP caching nhÃ©. VÃ¬ mÃ¬nh tháº¥y Ä‘Ã¢y lÃ  1 kÄ© thuáº­t phá»• biáº¿n, Ä‘Æ°á»£c dÃ¹ng rá»™ng rÃ£i, nhÆ°ng cÃ³ váº» hiá»‡n táº¡i nÃ³ khÃ´ng Ä‘Æ°á»£c phá»• biáº¿n nhiá»u tá»›i anh em dev FE ná»¯a. Vá» cÆ¡ báº£n kÄ© thuáº­t nÃ y lÃ  tá»« Nginx ta sáº½ tráº£ vá» header \"bÃ¡o hiá»‡u\" cho trÃ¬nh duyá»‡t biáº¿t ráº±ng \"Ãª cache file nÃ y láº¡i nha nÃ³ Ã­t thay Ä‘á»•i láº¯m\" ğŸ« \n\nÄáº§u tiÃªn cÃ¡c báº¡n táº¡o mÃ¬nh file `app.nginx.conf` Ä‘á»ƒ cáº¥u hÃ¬nh nginx cho app cá»§a chÃºng ta:\n```\nserver {\n    listen       80;\n    server_name  localhost;\n\n    location \u002F {\n        root   \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml;\n        index  index.html index.htm;\n    }\n\n    location = \u002Fenv.js {\n        root \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml;\n        expires 5s;  # Cache for 1 hour\n    }\n\n    error_page   500 502 503 504  \u002F50x.html;\n    \n    location = \u002F50x.html {\n        root   \u002Fusr\u002Fshare\u002Fnginx\u002Fhtml;\n    }\n\n}\n```\nThá»±c táº¿ file nÃ y mÃ¬nh copy tá»« file máº·c Ä‘á»‹nh cá»§a nginx vÃ  chá»‰ thÃªm vÃ o Ä‘Ãºng 1 Ä‘oáº¡n `location = \u002Fenv.js`, á»Ÿ Ä‘Ã¢y ta nÃ³i vá»›i trÃ¬nh duyá»‡t lÃ  cache file nÃ y láº¡i 5 giÃ¢y (Ä‘á»ƒ dá»… demo, thá»±c táº¿ ta nÃªn chá»n thá»i gian cao hÆ¡n nhÆ° 1 giá»\u002F1 tuáº§n,...)\n\nSau Ä‘Ã³ ta sá»­a láº¡i `docker-compose.yml` chÃºt Ä‘á»ƒ mount file nÃ y vÃ o container:\n```yml\nservices:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:80\n    volumes:\n      - .\u002Fapp.nginx.conf:\u002Fetc\u002Fnginx\u002Fconf.d\u002Fdefault.conf\n    environment:\n      - HELLO_MESSAGE=Hello World\n```\nVÃ  giá» ta restart láº¡i láº¡i lÃ  Ä‘Æ°á»£c rá»“i (khÃ´ng cáº§n rebuild vÃ¬ ta khÃ´ng sá»­a gÃ¬ liÃªn quan tá»›i Dockerfile):\n```\ndocker compose down\ndocker compose up -d --build\n```\nSau Ä‘Ã³ ta quay láº¡i trÃ¬nh duyá»‡t vÃ  F5 nhiá»u láº§n sáº½ tháº¥y nhÆ° sau:\n\n![ezgif-5-695cee45c8.gif](https:\u002F\u002Fimages.viblo.asia\u002Fedbc6c98-7609-40ea-a646-073a3023f61e.gif)\n\nNhá»¯ng gÃ¬ xáº£y ra bÃªn trÃªn nhÆ° sau:\n- Láº§n Ä‘áº§u tiÃªn: load `env.js` qua network\n- Trong vÃ²ng 5 giÃ¢y tiáº¿p theo náº¿u ta liÃªn tá»¥c F5 sáº½ tháº¥y trÃ¬nh duyá»‡t dÃ¹ng luÃ´n tá»« `memory cache`\n- Háº¿t thá»i gian 5 giÃ¢y thÃ¬ láº¡i tiáº¿p tá»¥c load `env.js` qua network\n\n\nNáº¿u ta inspect request header lÃªn sáº½ tháº¥y lÃ  nginx gá»­i vá» trÃ¬nh duyá»‡t header `max-age` nhÆ° sau:\n\n![Screenshot 2024-04-28 at 12.22.03â€¯PM.png](https:\u002F\u002Fimages.viblo.asia\u002F21984028-6ff4-4cdf-b17f-b4a78f540c44.png)\n\nKhi trÃ¬nh duyá»‡t tháº¥y cÃ³ `Cache-Control` á»Ÿ header lÃ  sáº½ thá»±c hiá»‡n caching theo nhá»¯ng strategy Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh sáºµn\n\n## ÄÆ°a tháº³ng vÃ o index.html\nNáº¿u ta tháº¥y ráº±ng viá»‡c dÃ¹ng file `env.js` nÃ y kiá»ƒu gÃ¬ cÅ©ng tá»‘n Ã­t nháº¥t 1 network call, vÃ  ta muá»‘n cáº£i thiá»‡n viá»‡c nÃ y thÃ¬ ta cÃ³ thá»ƒ Ä‘Æ°a táº¥t cáº£ vÃ o `index.html` cÅ©ng Ä‘Æ°á»£c luÃ´n ğŸ˜ğŸ˜\n\nTa sá»­a láº¡i `index.html` xoÃ¡ luÃ´n Ä‘oáº¡n import script cho `env.js` Ä‘i nhÃ©:\n```html\n\u003C!doctype html\u003E\n\u003Chtml lang=\"en\"\u003E\n  \u003Chead\u003E\n    \u003Cmeta charset=\"UTF-8\" \u002F\u003E\n    \u003Clink rel=\"icon\" type=\"image\u002Fsvg+xml\" href=\"\u002Fvite.svg\" \u002F\u003E\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" \u002F\u003E\n    \u003Ctitle\u003EVite + React + TS\u003C\u002Ftitle\u003E\n  \u003C\u002Fhead\u003E\n  \u003Cbody\u003E\n    \u003Cdiv id=\"root\"\u003E\u003C\u002Fdiv\u003E\n    \u003Cscript type=\"module\" src=\"\u002Fsrc\u002Fmain.tsx\"\u003E\u003C\u002Fscript\u003E\n  \u003C\u002Fbody\u003E\n\u003C\u002Fhtml\u003E\n\n```\n\nGiá» ta cÃ³ thá»ƒ xoÃ¡ `env.js` vÃ  `env.template.js` trong folder `public` Ä‘i rá»“i. Sau Ä‘Ã³ ta update láº¡i `entrypoint.sh` ná»¯a nha:\n\n```shell\n#!\u002Fbin\u002Fsh\n\ncp index.html index.template.html\n\nsed -i '1i \u003Cscript\u003E\\n  window.__HELLO_MESSAGE__ = \"${HELLO_MESSAGE}\";\\n\u003C\u002Fscript\u003E\\n' index.template.html\n\nenvsubst \u003C index.template.html \u003E index.html\n\nrm index.template.html\n\nnginx -g 'daemon off;'\n```\ná» trÃªn cÃ¡c báº¡n tháº¥y ráº±ng ta táº¡o file `index.template.html` tá»« ná»™i dung hiá»‡n táº¡i cá»§a `index.html`, lÃ­ do lÃ  vÃ¬ ná»™i dung cá»§a `index.html` sau khi build thÃ¬ bundler sáº½ inject má»™t Ä‘á»‘ng thá»© khÃ¡c vÃ o vÃ  ta khÃ´ng Ä‘oÃ¡n trÆ°á»›c Ä‘Æ°á»£c nÃ³ lÃ  gÃ¬, nom nÃ³ nhÆ° sau:\n```html\n\u003C!doctype html\u003E\n\u003Chtml lang=\"en\"\u003E\n  \u003Chead\u003E\n    \u003Cmeta charset=\"UTF-8\" \u002F\u003E\n    \u003Clink rel=\"icon\" type=\"image\u002Fsvg+xml\" href=\"\u002Fvite.svg\" \u002F\u003E\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" \u002F\u003E\n    \u003Ctitle\u003EVite + React + TS\u003C\u002Ftitle\u003E\n    \u003Cscript type=\"module\" crossorigin src=\"\u002Fassets\u002Findex-fk17Nz9V.js\"\u003E\u003C\u002Fscript\u003E\n    \u003Clink rel=\"stylesheet\" crossorigin href=\"\u002Fassets\u002Findex-DiwrgTda.css\"\u003E\n  \u003C\u002Fhead\u003E\n  \u003Cbody\u003E\n    \u003Cdiv id=\"root\"\u003E\u003C\u002Fdiv\u003E\n  \u003C\u002Fbody\u003E\n\u003C\u002Fhtml\u003E\n```\nNhÆ° cÃ¡c báº¡n tháº¥y content cá»§a `index.html` lÃ  random khÃ´ng Ä‘oÃ¡n trÆ°á»›c váº­y nÃªn vá»›i cÃ¡ch nÃ y ta khÃ´ng táº¡o file template riÃªng\n\nQuay trá»Ÿ láº¡i vá»›i file `entrypoint.sh` mÃ  ta vá»«a update, á»Ÿ Ä‘Ã³ ta cÃ³:\n- copy tá»« file `index.html` ra file `index.template.html`\n- dÃ¹ng `sed` Ä‘á»ƒ insert vÃ o Ä‘áº§u file template pháº§n code JS\n- logics cÃ²n láº¡i thÃ¬ váº«n váº­y\n\nKáº¿t quáº£ mÃ  lÃ¡t ná»¯a ta sáº½ nháº­n Ä‘Æ°á»£c file `index.html` vá»›i ná»™i dung xÃªm xÃªm nhÆ° sau:\n```html\n\u003Cscript\u003E\n  window.__HELLO_MESSAGE__ = \"Hello World\";\n\u003C\u002Fscript\u003E\n\n\u003C!doctype html\u003E\n\u003Chtml lang=\"en\"\u003E\n  \u003Chead\u003E\n    \u003Cmeta charset=\"UTF-8\" \u002F\u003E\n    \u003Clink rel=\"icon\" type=\"image\u002Fsvg+xml\" href=\"\u002Fvite.svg\" \u002F\u003E\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" \u002F\u003E\n    \u003Ctitle\u003EVite + React + TS\u003C\u002Ftitle\u003E\n    \u003Cscript type=\"module\" crossorigin src=\"\u002Fassets\u002Findex-fk17Nz9V.js\"\u003E\u003C\u002Fscript\u003E\n    \u003Clink rel=\"stylesheet\" crossorigin href=\"\u002Fassets\u002Findex-DiwrgTda.css\"\u003E\n  \u003C\u002Fhead\u003E\n  \u003Cbody\u003E\n    \u003Cdiv id=\"root\"\u003E\u003C\u002Fdiv\u003E\n  \u003C\u002Fbody\u003E\n\u003C\u002Fhtml\u003E\n```\n\nVÃ¬ giá» ta khÃ´ng dÃ¹ng `env.js` ná»¯a nÃªn ta cÅ©ng cháº£ cáº§n custom cáº¥u hÃ¬nh nginx ná»¯a, nÃªn á»Ÿ file `docker-compose.yml` ta cÃ³ thá»ƒ bá» Ä‘i Ä‘oáº¡n mount volume:\n```yml\nservices:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:80\n    # volumes:\n    #   - .\u002Fapp.nginx.conf:\u002Fetc\u002Fnginx\u002Fconf.d\u002Fdefault.conf\n    environment:\n      - HELLO_MESSAGE=Hello World\n```\nVÃ  giá» ta rebuild project rá»“i start nha:\n```\ndocker compose down\ndocker compose up -d --build\n```\nSau khi cháº¡y lÃªn ta sáº½ tháº¥y Ä‘iá»u tÆ°Æ¡ng tá»±:\n\n![Screenshot 2024-04-28 at 12.48.02â€¯PM.png](https:\u002F\u002Fimages.viblo.asia\u002Ff36fec53-e0d2-4999-ad21-026377d3ddcc.png)\n\nNhÆ° cÃ¡c báº¡n tháº¥y thÃ¬ vá»›i cÃ¡ch nÃ y ta bá» háº³n Ä‘Æ°á»£c file `env.js`, tiáº¿t kiá»‡m Ä‘Æ°á»£c má»™t network call, nhÆ°ng hÆ¡i \"tricky\" chÃºt Ä‘oáº¡n táº¡o file template tá»« file bundle `index.html`\n\n\u003E á» Ä‘Ã¢y mÃ¬nh lÃ m demo nÃªn cÃ¡c báº¡n Ä‘á»ƒ Ã½ trong `entrypoint.sh` ta Ä‘ang hardcode trá»±c tiáº¿p biáº¿n mÃ´i trÆ°á»ng á»Ÿ Ä‘Ã³. Khi lÃ m tháº­t, cÃ³ nhiá»u biáº¿n mÃ´i trÆ°á»ng thÃ¬ ta nÃªn tÃ¡ch ra lÃ m 1 file riÃªng, Ä‘á»c content file Ä‘Ã³ lÃªn rá»“i dÃ¹ng `sed` insert vÃ o `index.html`\n# Káº¿t bÃ i\nNgÃ y xÆ°a mÃ¬nh cá»© nghÄ© lÃ m Frontend lÃ  quanh quáº©n Vue\u002FReact\u002FAngular,... UI button, background,... nhÆ°ng thá»±c táº¿ lÃ  Frontend nÃ³ cÃ²n cÃ³ ráº¥t nhiá»u thá»© xung quanh Ä‘á»ƒ ta cÃ³ thá»ƒ \"chÆ¡i\" ğŸ˜‚ vÃ  Ã¡p dá»¥ng vÃ o cÃ¡c bÃ i toÃ¡n thá»±c táº¿. VÃ­ dá»¥ nhÆ° bÃ i nÃ y cÅ©ng xuáº¥t phÃ¡t tá»« yÃªu cáº§u cÃ´ng viá»‡c cá»§a mÃ¬nh cáº§n `Build once, run everywhere` cho frontend\n\nHi vá»ng Ä‘Ã£ Ä‘em tá»›i cho cÃ¡c báº¡n má»™t cÃ¡ch má»›i trong viá»‡c xá»­ lÃ½ ENV cho frontend.\n\nChÃºc cÃ¡c báº¡n cuá»‘i tuáº§n vui váº» háº¹n gáº·p láº¡i cÃ¡c báº¡n vÃ o cÃ¡c bÃ i sau ğŸ‘‹",moderation:a,preview:{image:"https:\u002F\u002Fimages.viblo.asia\u002F5d04698e-c698-43fa-98e7-34066161ebdc.jpg",teaser:"Hello cÃ¡c báº¡n láº¡i lÃ  mÃ¬nh Ä‘Ã¢y ğŸ‘‹ğŸ‘‹",contents:"Hello cÃ¡c báº¡n láº¡i lÃ  mÃ¬nh Ä‘Ã¢y ğŸ‘‹ğŸ‘‹\n\nNhÃ¢n má»™t ngÃ y mÃ  nhÃ¬n vÃ o list cÃ¡c bÃ i muá»‘n viáº¿t mÃ  mÃ¬nh Ä‘Ã£ lÃªn Ã½ tÆ°á»Ÿng tá»« lÃ¢u tháº¥y cÃ³ ráº¥t nhiá»u thá»© muá»‘n chia sáº», vÃ  cÅ©ng tranh thá»§ tuáº§n nÃ y ráº£nh váº­y lÃ  láº¡i ngá»©a ngÃ¡y muá»‘n viáº¿t liá»n ğŸ˜\n\nHÃ´m nay chÃºng ta sáº½ cÃ¹ng xem cÃ¡ch Ä‘á»ƒ cÃ³ thá»ƒ cáº¥u hÃ¬nh dynamic env cho app frontend vá»›i Docker vÃ  bÃ i toÃ¡n thá»±c táº¿ nhÃ© ;)\n\nLÃªn thuyá»..."},current_revision:a,reading_time:m,series_id:961,video_id:a,slide_url:a,last_edited_at:"2024-04-28T12:00:24+07:00",puzzle_hash_id:a,license:"all_rights_reserved",seo_setting:{data:{id:3715,title:"Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend - Viblo",description:y,seoable_type:"Post"}},tags:{data:[{slug:i,name:i},{slug:f,name:f},{slug:z,name:A},{slug:B,name:C}]},summary:y},related:a,relatedOrganizations:a,fetchedAt:new Date(1714321043923),invalidated:b,series:a,proposals:[],video:a,tracking:a,suggestionChallenges:[{id:1607,hash_id:"k8mepxmeMyJ",title:"SubArray Level Up!!!",score:150,rank:D,completed_times:12,trophied_count:6,attempted_count:421,created_at:"2023-11-30T21:19:47+07:00",tags:["Greedy Method","Dynamic programming"],link:"https:\u002F\u002Fcode.viblo.asia\u002Fchallenges\u002Fk8mepxmeMyJ"},{id:1605,hash_id:"4openvPe7Az",title:"PLAY MATRIX",score:u,rank:D,completed_times:c,trophied_count:c,attempted_count:4,created_at:"2023-11-30T14:05:34+07:00",tags:["matrix"],link:"https:\u002F\u002Fcode.viblo.asia\u002Fchallenges\u002F4openvPe7Az"},{id:1603,hash_id:"OpnelqVaKBz",title:"Special Substring",score:350,rank:"B",completed_times:c,trophied_count:c,attempted_count:c,created_at:"2023-11-29T10:54:03+07:00",tags:["string","Substring"],link:"https:\u002F\u002Fcode.viblo.asia\u002Fchallenges\u002FOpnelqVaKBz"}],suggestionCourses:[{id:65,level:n,name:o,slug:"html-for-beginners",createdAt:"2020-10-16T08:07:17.000000Z",releaseAt:"2020-10-16 00:00:00",tags:["HTML","Web Development","beginner",f,E],totalUsers:1670,publishedQuestions:506,viewsCount:12956,titleVi:o,titleEn:o,titleJp:g,totalTests:3764,link:"https:\u002F\u002Flearn.viblo.asia\u002Fcourses\u002Fhtml-for-beginners-4y1aKrReQG"},{id:F,level:n,name:p,slug:"client-side-javascript",createdAt:"2020-09-18T08:41:20.000000Z",releaseAt:"2021-07-30 00:00:00",tags:["client-side-rendering",G,f,E],totalUsers:725,publishedQuestions:351,viewsCount:6277,titleVi:p,titleEn:p,titleJp:g,totalTests:1231,link:"https:\u002F\u002Flearn.viblo.asia\u002Fcourses\u002Fclient-side-javascript-gl9av2maG1"},{id:52,level:n,name:q,slug:H,createdAt:"2020-09-01T07:38:19.000000Z",releaseAt:"2020-09-01 00:00:00",tags:[G,f,H],totalUsers:1709,publishedQuestions:1011,viewsCount:14694,titleVi:q,titleEn:q,titleJp:g,totalTests:4566,link:"https:\u002F\u002Flearn.viblo.asia\u002Fcourses\u002Fjavascript-core-l4zbqx2apr"}],suggestionPuzzles:[{id:445,hash_id:"Tviggg89q8z",title:"Validatingggg",point:r,rank:s,total_winner:7,tags:[],link:"https:\u002F\u002Fctf.viblo.asia\u002Fpuzzles\u002Fvalidatingggg-tviggg89q8z",created_at:"2024-01-15 09:15:45"},{id:298,hash_id:"XCUNpyIHnmZ",title:"Pexpore",point:r,rank:s,total_winner:I,tags:[],link:"https:\u002F\u002Fctf.viblo.asia\u002Fpuzzles\u002Fpexpore-xcunpyihnmz",created_at:"2024-01-15 09:09:36"},{id:I,hash_id:"zcHx5Q4Xl4n",title:"3 Numbers",point:r,rank:s,total_winner:F,tags:[],link:"https:\u002F\u002Fctf.viblo.asia\u002Fpuzzles\u002F3-numbers-zchx5q4xl4n",created_at:"2024-01-10 16:09:29"}],comments:{byId:J,threads:K,loading:d}},profile:{profile:a,contact:{byId:J,threads:K,loading:d},followers:{current:[],pagination:{}},following:{current:[],pagination:{}},posts:{byId:{},all:[],pagination:{}},questions:{byId:{},current:[],pagination:{}},skills:{skills:[]}},promoted:{users:{},posts:[],tags:[],currentSharingId:a},questionHomeFeed:{sidebar:{users:[],posts:[],organizationPartners:[],userPartners:[],interviewQuestions:[]}},questionView:{question:a,answers:{byId:{},all:[]},subscribers:[],invalidated:d,comments:{byId:{},threads:{}}},seriesView:{series:{},posts:[],requests:[],seriesHome:a,paginationSeries:a,comments:{byId:{},threads:{}}},settings:{perPage:m,layout:"simple",theme:h,homepage:h,complete_survey:b,complete_tour:g,viewed_popup_newsletter:d},survey:{externalUrl:a},toast:{messages:[],newPosts:c},typeControl:{fontSize:18,lineHeight:1.75,fullScreen:b,modeTheme:h},userRankings:{current:[],byId:{}},vueTour:{step0:b,step1:b,step2:b,step3:b,step4:b,writePostStep0:b,writePostStep1:b,writePostStep2:b,writePostStep3:b,showBackgroud:b,triggerUserMenu:"click",doneFetchData:b},witePostNewYear:{startTime:"2024-03-21T16:22:46+07:00",endTime:"2024-03-21T16:23:22+07:00",active:b,happening:b,link_annc:"https:\u002F\u002Fviblo.asia\u002Fannouncements\u002Fkhai-but-dau-xuan-2024-tat-tan-tat-the-le-tham-gia-co-tai-day-zOQJw5bpVMP",tag_event:"KhaiButDauXuan"},wrappedUpTime:{startTime:"2023-01-01T00:00:00+07:00",endTime:"2024-02-29T07:08:42+07:00",lastImage:"93172d7c-6be6-4352-a306-014d43ba62bf.png"},__modules:{comments:{},"post-feed":{},"question-feed":{byId:{},current:[],pagination:{}},"user-list":{current:[],pagination:{}}},__plugins:{pushNewPosts:{},pushNotifications:{}},__utils:{entities:{},schemas:{}},entities:{organizations:{all:{}},posts:{all:{"75299":{id:v,slug:w,title:"Build once, run everywhere vá»›i Docker: Cáº¥u hÃ¬nh dynamic ENV cho Frontend",transliterated:x,tags:{data:[{slug:i,name:i},{slug:f,name:f},{slug:z,name:A},{slug:B,name:C}]},user_id:l,canonical_url:"https:\u002F\u002Fviblo.asia\u002Fp\u002Fbuild-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9",uploads:[{uuid:"23482c65-917c-4028-8e33-e8e9fc87451f",width:2198,height:1102,extension:e},{uuid:"bf123db7-e58b-408b-b8bd-e44a37133469",width:694,height:576,extension:e},{uuid:"4e4c77cd-ca55-426d-8e98-e6460cfa7b72",width:2042,height:546,extension:e},{uuid:"c103aca1-29ac-46fb-9081-b8bd780dfb7c",width:974,height:378,extension:e},{uuid:"c1e7cb52-5d1f-49b4-8299-9caddc585aaf",width:3444,height:1692,extension:e},{uuid:"d2f164ce-0cab-49ec-9cff-9299b24ab77c",width:1516,height:1738,extension:e},{uuid:"e40882f9-33d5-4b41-bfd1-9b1ae1a40a71",width:1538,height:1772,extension:e},{uuid:"21984028-6ff4-4cdf-b17f-b4a78f540c44",width:3028,height:816,extension:e},{uuid:"edbc6c98-7609-40ea-a646-073a3023f61e",width:600,height:344,extension:"gif"},{uuid:"f36fec53-e0d2-4999-ad21-026377d3ddcc",width:3412,height:1872,extension:e}],status:"public",promoted:b,trending:b,views_count:27,clips_count:c,comments_count:c,clipped:b,points:3,rated_value:a,scheduled_publish_at:a,created_at:"2024-04-27T21:38:39+07:00",updated_at:"2024-04-28T23:17:01+07:00",published_at:"2024-04-28T13:46:09+07:00",reading_time:m,can_share_social:d}}},questions:{all:{}},tags:{all:{}},users:{all:{"22169":{id:l,username:"maitrungduc1410",name:"Mai Trung Äá»©c",avatar:t,following:b,reputation:40788,followers_count:2260,posts_count:72,questions_count:c,answers_count:c,total_post_views:a,banned_at:a,level_partner:a}}}},organizationView:{followers:{current:[],pagination:{}},members:{current:[],pagination:{}},technologyStacks:{technologies:[]},topMembers:{topMembers:[]}},tagView:{followers:{current:[],pagination:{}},posts:{byId:{},all:[],pagination:{}},questions:{byId:{},current:[],pagination:{}}},writeups:{puzzlePosts:{byId:{},all:[],pagination:{},puzzle:a}},i18n:{locale:"vi"}},serverRendered:d,routePath:k,config:{_app:{basePath:"\u002F",assetsPath:"\u002F_nuxt\u002F",cdnURL:a}}}}(null,false,0,true,"png","frontend","","default","env",1,"\u002Fp\u002Fbuild-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend-gwd43gjq4X9",22169,20,"beginning","HTML for Beginners","Client-side Javascript","Javascript Core","200","D","eaf432c3-3a68-4b4a-a42f-c31b7575fe14.jpg",100,75299,"gwd43gjq4X9","build-once-run-everywhere-voi-docker-cau-hinh-dynamic-env-cho-frontend","Trong bÃ i hÃ´m nay ta sáº½ cÃ¹ng nhau tÃ¬m hiá»ƒu cÃ¡ch setup dynamic ENV cho app Frontend vá»›i Docker Ä‘á»ƒ cÃ³ thá»ƒ cáº­p nháº­t mÃ  khÃ´ng cáº§n pháº£i rebuild giá»‘ng nhÆ° nhá»¯ng gÃ¬ ta váº«n lÃ m vá»›i backend nhÃ©","build-docker","build docker","docker-compose","Docker Compose","E","front-end",54,"javascript","javascript-core",2,{},{}));</script><script src="/_nuxt/runtime.e72c032fa9d23f4a74c0.js" defer></script><script src="/_nuxt/support.f5168b0faa7e6d99e98e.js" defer></script><script src="/_nuxt/vendors/index.18e72cc2ab911620d3b4.js" defer></script><script src="/_nuxt/survey.2008fbd216275e77de8a.js" defer></script><script src="/_nuxt/vendors/survey.0f1f3d34d7da89f1c829.js" defer></script><script src="/_nuxt/user.28f257953f9381c9467f.js" defer></script><script src="/_nuxt/settings.8f4631de8bf4e487b62e.js" defer></script><script src="/_nuxt/tag.9bbfc73101ad405a3dfb.js" defer></script><script src="/_nuxt/app.c05be69fdb95a03f507b.js" defer></script>
  </body>
</html>
